<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.75">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Camunda Cloud Docs Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Camunda Cloud Docs Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Camunda Cloud Docs" href="/opensearch.xml"><title data-react-helmet="true">Setting up your first development project | Camunda Cloud Docs</title><meta data-react-helmet="true" property="og:url" content="https://docs.camunda.io/docs/0.26/guides/setting-up-development-project"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="0.26"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-0.26"><meta data-react-helmet="true" property="og:title" content="Setting up your first development project | Camunda Cloud Docs"><meta data-react-helmet="true" name="description" content="&lt;Tabs groupId=&quot;language&quot; defaultValue=&quot;csharp&quot; values={"><meta data-react-helmet="true" property="og:description" content="&lt;Tabs groupId=&quot;language&quot; defaultValue=&quot;csharp&quot; values={"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://docs.camunda.io/docs/0.26/guides/setting-up-development-project"><link data-react-helmet="true" rel="alternate" href="https://docs.camunda.io/docs/0.26/guides/setting-up-development-project" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.camunda.io/docs/0.26/guides/setting-up-development-project" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><script data-react-helmet="true" src="https://cmp.osano.com/16CVvwSNKHi9t1grQ/2ce963c0-31c9-4b54-b052-d66a2a948ccc/osano.js"></script><link rel="stylesheet" href="/assets/css/styles.ebaa7ef1.css">
<link rel="preload" href="/assets/js/runtime~main.ae87c081.js" as="script">
<link rel="preload" href="/assets/js/main.205979fd.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/camunda-cloud-gradient.png" alt="Camunda Cloud Docs" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/camunda-cloud-gradient.png" alt="Camunda Cloud Docs" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Camunda Cloud Docs</strong></a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/0.26/guides/">0.26</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/guides/setting-up-development-project">latest</a></li><li><a class="dropdown__link" href="/docs/1.0/guides/setting-up-development-project">1.0</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/0.26/guides/setting-up-development-project">0.26</a></li><li><a class="dropdown__link" href="/docs/0.25/guides/setting-up-development-project">0.25</a></li></ul></div><a class="navbar__item navbar__link navbar__link--active" href="/docs/0.26/guides/">Guides</a><a class="navbar__item navbar__link" href="/docs/0.26/product-manuals/">Product Manuals</a><a class="navbar__item navbar__link" href="/docs/0.26/reference/">Reference</a></div><div class="navbar__items navbar__items--right"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/camunda-cloud-gradient.png" alt="Camunda Cloud Docs" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/camunda-cloud-gradient.png" alt="Camunda Cloud Docs" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Camunda Cloud Docs</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a role="button" class="menu__link menu__link--sublist">Versions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/guides/setting-up-development-project">latest</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/1.0/guides/setting-up-development-project">1.0</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/0.26/guides/setting-up-development-project">0.26</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/0.25/guides/setting-up-development-project">0.25</a></li></ul></li><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/docs/0.26/guides/">Guides</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/0.26/product-manuals/">Product Manuals</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/0.26/reference/">Reference</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/0.26/guides/">Introduction to Camunda Cloud</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting started with Camunda Cloud</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.26/guides/getting-started/create-camunda-cloud-account">Create Camunda Cloud account</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.26/guides/getting-started/create-cluster">Create a cluster</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.26/guides/getting-started/setup-client-connection-credentials">Setup client connection credentials</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.26/guides/getting-started/connect-to-your-cluster">Connect to your cluster</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.26/guides/getting-started/model-your-first-process">Model your first process</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.26/guides/getting-started/deploy-your-process-and-start-process-instance">Deploy and start your process instance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.26/guides/getting-started/implement-service-task">Implement a service task</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.26/guides/getting-started/implement-decision-gateway">Implement a decision gateway</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/0.26/guides/getting-started/monitor-your-process-in-operate">Monitor your process in Operate</a></li></ul></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" href="/docs/0.26/guides/setting-up-development-project">Setting up your first development project</a></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div><span class="badge badge--secondary">Version: 0.26</span></div><header><h1 class="docTitle_3a4h">Setting up your first development project</h1></header><div class="markdown"><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">C# / ASP.NET Core 3</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Go</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java + Spring</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Kotlin + Spring</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">NodeJS</li></ul><div class="margin-vert--md"><div role="tabpanel"><p><em>Approximate time to complete: 1 hour</em></p><p>The <a href="https://github.com/zeebe-io/zeebe-client-csharp" target="_blank" rel="noopener noreferrer">Zeebe C# Client</a> is available for .NET Zeebe applications.</p><p>Watch a <a href="https://youtu.be/a-0BtrRY4M4" target="_blank" rel="noopener noreferrer">video tutorial on YouTube</a> walking through this Getting Started Guide.</p><p><a href="https://youtu.be/a-0BtrRY4M4" target="_blank" rel="noopener noreferrer"><img src="/assets/images/getting-started-aspnet-thumbnail-4d4fc2dae5e1e6f2e0a5ec076201a7bd.png"></a></p></div><div role="tabpanel" hidden=""><p><em>Estimated time to complete: 60 minutes</em></p><p>The <a href="https://github.com/zeebe-io/zeebe/tree/develop/clients/go" target="_blank" rel="noopener noreferrer">Zeebe Go Client</a> is available for Go applications.</p><p>Watch a <a href="https://youtu.be/_GQuqEwzWKM" target="_blank" rel="noopener noreferrer">video tutorial on YouTube</a> walking through this Getting Started Guide.</p><p><a href="https://youtu.be/_GQuqEwzWKM" target="_blank" rel="noopener noreferrer"><img src="/assets/images/getting-started-go-thumbnail-569297d13030af74977d0aa6528e1944.png"></a></p><p>View <a href="https://github.com/jwulf/camunda-cloud-getting-started-go" target="_blank" rel="noopener noreferrer">the complete project on GitHub</a>.</p></div><div role="tabpanel" hidden=""></div><div role="tabpanel" hidden=""><p>The <a href="https://github.com/zeebe-io/spring-zeebe" target="_blank" rel="noopener noreferrer">Spring Zeebe Client</a> is available for Spring and Spring Boot applications.</p><p>Watch a <a href="https://youtu.be/7vBxJmXD3Js" target="_blank" rel="noopener noreferrer">video tutorial on YouTube</a> walking through this Getting Started Guide.</p><p><a href="https://youtu.be/7vBxJmXD3Js" target="_blank" rel="noopener noreferrer"><img src="/assets/images/getting-started-java-thumbnail-46b16bcb7bc6fe7226af68c6a73c1a0d.png"></a></p></div><div role="tabpanel" hidden=""><p>The <a href="https://github.com/zeebe-io/spring-zeebe" target="_blank" rel="noopener noreferrer">Spring Zeebe Client</a> is available for Spring and Spring Boot applications.</p><p>Watch a <a href="https://youtu.be/TFDSv8YAazI" target="_blank" rel="noopener noreferrer">video tutorial on YouTube</a> walking through this Getting Started Guide.</p><p><a href="https://youtu.be/TFDSv8YAazI" target="_blank" rel="noopener noreferrer"><img src="/assets/images/getting-started-kotlin-thumbnail-459074e49a99062f72b14cb4f326e7e5.png"></a></p></div><div role="tabpanel" hidden=""><p>The <a href="https://github.com/creditsenseau/zeebe-client-node-js" target="_blank" rel="noopener noreferrer">Zeebe Node Client</a> exists for Node.js applications.</p><p>Watch a <a href="https://youtu.be/AOj64vzEZ_8" target="_blank" rel="noopener noreferrer">video tutorial on YouTube</a> walking through this Getting Started Guide.</p><p><a href="https://youtu.be/AOj64vzEZ_8" target="_blank" rel="noopener noreferrer"><img src="/assets/images/getting-started-node-thumbnail-69d92da1f3b3c1c98a4f1284883d1c3f.jpg"></a></p></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="prerequisites"></a>Prerequisites<a class="hash-link" href="#prerequisites" title="Direct link to heading">#</a></h2><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">C# / ASP.NET Core 3</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Go</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java + Spring</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Kotlin + Spring</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">NodeJS</li></ul><div class="margin-vert--md"><div role="tabpanel"><ul><li><a href="https://github.com/zeebe-io/zeebe-modeler/releases" target="_blank" rel="noopener noreferrer">Zeebe Modeler</a></li></ul></div><div role="tabpanel" hidden=""><ul><li><a href="https://golang.org/dl/" target="_blank" rel="noopener noreferrer">Go 1.13+</a></li><li><a href="https://github.com/zeebe-io/zeebe-modeler/releases" target="_blank" rel="noopener noreferrer">Zeebe Modeler</a></li></ul></div><div role="tabpanel" hidden=""></div><div role="tabpanel" hidden=""><ul><li><a href="https://github.com/zeebe-io/zeebe-modeler/releases" target="_blank" rel="noopener noreferrer">Zeebe Modeler</a></li></ul></div><div role="tabpanel" hidden=""><ul><li><a href="https://github.com/zeebe-io/zeebe-modeler/releases" target="_blank" rel="noopener noreferrer">Zeebe Modeler</a></li></ul></div><div role="tabpanel" hidden=""><ul><li><a href="https://nodejs.org" target="_blank" rel="noopener noreferrer">Node.js</a></li><li><a href="https://github.com/zeebe-io/zeebe-modeler/releases" target="_blank" rel="noopener noreferrer">Zeebe Modeler</a></li></ul></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="scaffolding-the-project"></a>Scaffolding the project<a class="hash-link" href="#scaffolding-the-project" title="Direct link to heading">#</a></h2><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">C# / ASP.NET Core 3</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Go</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java + Spring</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Kotlin + Spring</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">NodeJS</li></ul><div class="margin-vert--md"><div role="tabpanel"><p><a href="https://youtu.be/a-0BtrRY4M4?t=43" target="_blank" rel="noopener noreferrer">Video link</a></p><ul><li>Create a new .NET Core Web API application:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">dotnet new webapi -o Cloudstarter</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> Cloudstarter</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Add the <a href="https://www.nuget.org/packages/zb-client/" target="_blank" rel="noopener noreferrer">Zeebe C# Client</a> from Nuget:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">dotnet </span><span class="token function" style="color:rgb(130, 170, 255)">add</span><span class="token plain"> package zb-client --version </span><span class="token number" style="color:rgb(247, 140, 108)">0.16</span><span class="token plain">.1</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><strong>Configure NLog for logging</strong></p><p><a href="https://youtu.be/a-0BtrRY4M4?t=96" target="_blank" rel="noopener noreferrer">Video link</a></p><ul><li>Install NLog packages (we&#x27;ll use NLog):</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">dotnet </span><span class="token function" style="color:rgb(130, 170, 255)">add</span><span class="token plain"> package NLog</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">dotnet </span><span class="token function" style="color:rgb(130, 170, 255)">add</span><span class="token plain"> package NLog.Schema</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">dotnet </span><span class="token function" style="color:rgb(130, 170, 255)">add</span><span class="token plain"> package NLog.Web.AspNetCore</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Create a file <code>NLog.config</code>, with the following content:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly xml"><div tabindex="0" class="prism-code language-xml codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">nlog</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">xmlns</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">http://www.nlog-project.org/schemas/NLog.xsd</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token tag" style="color:rgb(255, 85, 114)">      </span><span class="token tag attr-name namespace" style="color:rgb(178, 204, 214)">xmlns:</span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">xsi</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">http://www.w3.org/2001/XMLSchema-instance</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token tag" style="color:rgb(255, 85, 114)">      </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">autoReload</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">true</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token tag" style="color:rgb(255, 85, 114)"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">extensions</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">add</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">assembly</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">NLog.Web.AspNetCore</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">extensions</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">targets</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">target</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">name</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">logconsole</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name namespace" style="color:rgb(178, 204, 214)">xsi:</span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">type</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">Console</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token tag" style="color:rgb(255, 85, 114)">                </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">layout</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">${longdate} | ${level:uppercase=true} | ${logger} | ${message} ${exception:format=tostring}</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">targets</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">rules</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">       </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">logger</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">name</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">*</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">minlevel</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">Trace</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">writeTo</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">logconsole</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">     </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">rules</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">nlog</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Edit the file <code>Program.cs</code> to configure NLog:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly c#"><div tabindex="0" class="prism-code language-c# codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">public class Program</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public static async Task Main(string[] args)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        var logger = NLogBuilder.ConfigureNLog(&quot;NLog.config&quot;).GetCurrentClassLogger();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        try</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            logger.Debug(&quot;init main&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            await CreateHostBuilder(args).Build().RunAsync();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        catch (Exception exception)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            logger.Error(exception, &quot;Stopped program because of exception&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            throw;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        finally</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            NLog.LogManager.Shutdown();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    private static IHostBuilder CreateHostBuilder(string[] args) =&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        Host.CreateDefaultBuilder(args)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            .ConfigureWebHostDefaults(webBuilder =&gt; { webBuilder.UseStartup&lt;Startup&gt;(); })</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            .ConfigureLogging(logging =&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                logging.ClearProviders();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                logging.SetMinimumLevel(LogLevel.Trace);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            })</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            .UseNLog();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/_GQuqEwzWKM?t=41" target="_blank" rel="noopener noreferrer">Video link</a></p><ul><li>Run the following command to create a new Go project:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">mkdir</span><span class="token plain"> -p </span><span class="token variable" style="color:rgb(191, 199, 213)">$GOPATH</span><span class="token plain">/src/github.com/</span><span class="token environment constant" style="color:rgb(130, 170, 255)">$USER</span><span class="token plain">/cloud-starter</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> </span><span class="token variable" style="color:rgb(191, 199, 213)">$GOPATH</span><span class="token plain">/src/github.com/</span><span class="token environment constant" style="color:rgb(130, 170, 255)">$USER</span><span class="token plain">/cloud-starter</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Add the <a href="https://github.com/zeebe-io/spring-zeebe" target="_blank" rel="noopener noreferrer">Zeebe Go Client</a> to the project:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">go get -u github.com/zeebe-io/zeebe/clients/go/</span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div><div role="tabpanel" hidden=""></div><div role="tabpanel" hidden=""><ul><li><p>Download a maven Spring starter from <a href="https://start.spring.io/#!type=maven-project&amp;language=java&amp;platformVersion=2.3.1.RELEASE&amp;packaging=jar&amp;jvmVersion=11&amp;groupId=io.camunda&amp;artifactId=cloudstarter&amp;name=cloudstarter&amp;description=Getting%20Started%20with%20Camunda%20Cloud%20and%20Spring%20Boot&amp;packageName=io.camunda.cloudstarter&amp;dependencies=webflux" target="_blank" rel="noopener noreferrer">here</a>.</p></li><li><p>Unzip it into a new directory.</p></li></ul><p><a href="https://youtu.be/7vBxJmXD3Js?t=71" target="_blank" rel="noopener noreferrer">Video link</a></p><ul><li>Add the <a href="https://github.com/zeebe-io/spring-zeebe" target="_blank" rel="noopener noreferrer">Spring Zeebe Client</a> dependency to the <code>pom.xml</code> file:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly xml"><div tabindex="0" class="prism-code language-xml codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">dependency</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">groupId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">io.zeebe.spring</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">groupId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">artifactId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">spring-zeebe-starter</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">artifactId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">version</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">0.23.0</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">version</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">dependency</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><a href="https://youtu.be/7vBxJmXD3Js?t=192" target="_blank" rel="noopener noreferrer">Video link</a></p></div><div role="tabpanel" hidden=""><ul><li><p>Download a maven Spring starter from <a href="https://start.spring.io/#!type=maven-project&amp;language=kotlin&amp;platformVersion=2.3.1.RELEASE&amp;packaging=jar&amp;jvmVersion=11&amp;groupId=io.camunda&amp;artifactId=cloudstarter&amp;name=cloudstarter&amp;description=Getting%20Started%20with%20Camunda%20Cloud%20and%20Spring%20Boot&amp;packageName=io.camunda.cloudstarter&amp;dependencies=webflux" target="_blank" rel="noopener noreferrer">here</a>.</p></li><li><p>Unzip it into a new directory.</p></li></ul><p><a href="https://youtu.be/TFDSv8YAazI?t=27" target="_blank" rel="noopener noreferrer">Video link</a></p><ul><li>Add the <a href="https://github.com/zeebe-io/spring-zeebe" target="_blank" rel="noopener noreferrer">Spring Zeebe Client</a> dependency to the <code>pom.xml</code> file:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly xml"><div tabindex="0" class="prism-code language-xml codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">dependency</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">groupId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">io.zeebe.spring</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">groupId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">artifactId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">spring-zeebe-starter</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">artifactId</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">version</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain">0.23.0</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">version</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">dependency</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><a href="https://youtu.be/TFDSv8YAazI?t=119" target="_blank" rel="noopener noreferrer">Video link</a></p></div><div role="tabpanel" hidden=""><ul><li>Install tools:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> i -g typescript ts-node</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><a href="https://youtu.be/AOj64vzEZ_8?t=30" target="_blank" rel="noopener noreferrer">Video link</a></p><ul><li>Create project:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">mkdir</span><span class="token plain"> camunda-cloud-get-started-node</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> camunda-cloud-get-started-node</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> init -y</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">tsc --init</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><a href="https://youtu.be/AOj64vzEZ_8?t=95" target="_blank" rel="noopener noreferrer">Video link</a></p><ul><li>Edit <code>tsconfig.json</code> with the following config:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><div tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;compilerOptions&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;target&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;es2020&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;module&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;commonjs&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;outDir&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;./dist&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;rootDir&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;./src&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;strict&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;noImplicitAny&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;esModuleInterop&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;skipLibCheck&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;forceConsistentCasingInFileNames&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><a href="https://youtu.be/AOj64vzEZ_8?t=155" target="_blank" rel="noopener noreferrer">Video link</a></p><ul><li>Install <code>zeebe-node</code> and <code>dotenv</code>:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">npm i zeebe-node dotenv</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="create-camunda-cloud-cluster"></a>Create Camunda Cloud cluster<a class="hash-link" href="#create-camunda-cloud-cluster" title="Direct link to heading">#</a></h2><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">C# / ASP.NET Core 3</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Go</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java + Spring</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Kotlin + Spring</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">NodeJS</li></ul><div class="margin-vert--md"><div role="tabpanel"><p><a href="https://youtu.be/a-0BtrRY4M4?t=299" target="_blank" rel="noopener noreferrer">Video link</a></p></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/_GQuqEwzWKM?t=84" target="_blank" rel="noopener noreferrer">Video link</a></p></div><div role="tabpanel" hidden=""></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/7vBxJmXD3Js?t=233" target="_blank" rel="noopener noreferrer">Video link</a></p></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/TFDSv8YAazI?t=148" target="_blank" rel="noopener noreferrer">Video link</a></p></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/AOj64vzEZ_8?t=198" target="_blank" rel="noopener noreferrer">Video link</a></p></div></div></div><ul><li>Log in to <a href="https://camunda.io" target="_blank" rel="noopener noreferrer">https://camunda.io</a>.</li><li>Create a new Zeebe Cluster.</li><li>When the new cluster appears in the console, create a new set of client credentials.</li><li>Copy the client Connection Info environment variables block.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="configure-connection"></a>Configure connection<a class="hash-link" href="#configure-connection" title="Direct link to heading">#</a></h2><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">C# / ASP.NET Core 3</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Go</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java + Spring</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Kotlin + Spring</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">NodeJS</li></ul><div class="margin-vert--md"><div role="tabpanel"><p><a href="https://youtu.be/a-0BtrRY4M4?t=409" target="_blank" rel="noopener noreferrer">Video link</a></p><ul><li>Add the <code>dotenv.net</code> package to the project:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">dotnet </span><span class="token function" style="color:rgb(130, 170, 255)">add</span><span class="token plain"> package dotenv.net.DependencyInjection.Microsoft</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Edit <code>Startup.cs</code> and add the service in the <code>ConfigureServices</code> method:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly c#"><div tabindex="0" class="prism-code language-c# codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">public void ConfigureServices(IServiceCollection services)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    services.AddEnv(builder =&gt; {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        builder</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            .AddEnvFile(&quot;CamundaCloud.env&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            .AddThrowOnError(false)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            .AddEncoding(Encoding.ASCII);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    });</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    services.AddEnvReader();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Create a file in the root of the project <code>CamundaCloud.env</code>, and paste the client connection details into it, removing the <code>export</code> from each line:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token assign-left variable" style="color:rgb(191, 199, 213)">ZEEBE_ADDRESS</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">656a9fc4-c874-49a3-b67b-20c31ae12fa0.zeebe.camunda.io:443</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">ZEEBE_CLIENT_ID</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">~2WQlDeV1yFdtePBRQgsrNXaKMs4IwAw</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">ZEEBE_CLIENT_SECRET</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">3wFRuCJb4YPcKL4W9Fn7kXlsepSNNJI5h7Mlkqxk2E.coMEtYdA5E58lnkCmoN_0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">ZEEBE_AUTHORIZATION_SERVER_URL</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain">https://login.cloud.camunda.io/oauth/token</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p><strong>Note:</strong> if you change cluster configuration at a later date, you may need to delete the file <code>~/zeebe/cloud.token</code>. See <a href="https://github.com/zeebe-io/zeebe-client-csharp/issues/146" target="_blank" rel="noopener noreferrer">this bug report</a>.</p><ul><li>Add an <code>ItemGroup</code> in <code>CloudStarter.csproj</code> to copy the <code>.env</code> file into the build:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly xml"><div tabindex="0" class="prism-code language-xml codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">ItemGroup</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">None</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">Update</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">CamundaCloud.env</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">CopyToOutputDirectory</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">PreserveNewest</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">ItemGroup</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Create a file in <code>Services/ZeebeService.cs</code>, with the following content:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly c#"><div tabindex="0" class="prism-code language-c# codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">namespace Cloudstarter.Services</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public interface IZeebeService</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        public Task&lt;ITopology&gt; Status();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public class ZeebeService: IZeebeService</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        private readonly IZeebeClient _client;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        private readonly ILogger&lt;ZeebeService&gt; _logger;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        public ZeebeService(IEnvReader envReader, ILogger&lt;ZeebeService&gt; logger)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            _logger = logger;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            var authServer = envReader.GetStringValue(&quot;ZEEBE_AUTHORIZATION_SERVER_URL&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            var clientId = envReader.GetStringValue(&quot;ZEEBE_CLIENT_ID&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            var clientSecret = envReader.GetStringValue(&quot;ZEEBE_CLIENT_SECRET&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            var zeebeUrl = envReader.GetStringValue(&quot;ZEEBE_ADDRESS&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            char[] port =</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                &#x27;4&#x27;, &#x27;3&#x27;, &#x27;:&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            };</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            var audience = zeebeUrl?.TrimEnd(port);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            _client =</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                ZeebeClient.Builder()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    .UseGatewayAddress(zeebeUrl)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    .UseTransportEncryption()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    .UseAccessTokenSupplier(</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                        CamundaCloudTokenProvider.Builder()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                            .UseAuthServer(authServer)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                            .UseClientId(clientId)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                            .UseClientSecret(clientSecret)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                            .UseAudience(audience)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                            .Build())</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    .Build();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        public Task&lt;ITopology&gt; Status()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            return _client.TopologyRequest().Send();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Save the file.</li></ul></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/_GQuqEwzWKM?t=281" target="_blank" rel="noopener noreferrer">Video link</a></p><p>We will use <a href="https://github.com/joho/godotenv" target="_blank" rel="noopener noreferrer">GoDotEnv</a> to environmentalize the client connection credentials.</p><ul><li>Add GoDotEnv to the project:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">go get github.com/joho/godotenv</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Add the client connection credentials for your cluster to the file <code>.env</code>:</li></ul><p><strong>Note</strong>: <em>make sure to remove the <code>export</code> keyword from each line</em>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">ZEEBE_ADDRESS=&#x27;aae86771-0906-4186-8d82-e228097e1ef7.zeebe.camunda.io:443&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ZEEBE_CLIENT_ID=&#x27;hj9PHRIiRqT0~qHvFeqXZV-J8fLRfifB&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ZEEBE_CLIENT_SECRET=&#x27;.95Vlv6joiuVR~mJDjGPlyYk5Pz6iIwFYmmQyX8yU3xdB1gezntVMoT1SQTdrCsl&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ZEEBE_AUTHORIZATION_SERVER_URL=&#x27;https://login.cloud.camunda.io/oauth/token&#x27;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Save the file.</li></ul></div><div role="tabpanel" hidden=""></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/7vBxJmXD3Js?t=368" target="_blank" rel="noopener noreferrer">Video link</a></p><ul><li>Add the client connection credentials for your cluster to the file <code>src/main/resources/application.properties</code>:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">zeebe.client.cloud.clusterId=3b640f45-0dcd-469a-8551-7f68a5d4f53b</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">zeebe.client.cloud.clientId=rvQhH1LgzZ8hWxYpnX-WCFoqxl3ps6_o</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">zeebe.client.cloud.clientSecret=Y_tumI88mpbDbxlY0ueVyPK6BHjMAe5FpBtPU4TQPPyr4FuDxpMN7P9Mj7M26j6a</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">zeebe.client.worker.defaultName=myworker</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Save the file.</li></ul></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/TFDSv8YAazI?t=232" target="_blank" rel="noopener noreferrer">Video link</a></p><ul><li>Add the client connection credentials for your cluster to the file <code>src/main/resources/application.properties</code>:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">zeebe.client.cloud.clusterId=3b640f45-0dcd-469a-8551-7f68a5d4f53b</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">zeebe.client.cloud.clientId=rvQhH1LgzZ8hWxYpnX-WCFoqxl3ps6_o</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">zeebe.client.cloud.clientSecret=Y_tumI88mpbDbxlY0ueVyPK6BHjMAe5FpBtPU4TQPPyr4FuDxpMN7P9Mj7M26j6a</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">zeebe.client.worker.defaultName=myworker</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Save the file.</li></ul></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/AOj64vzEZ_8?t=454" target="_blank" rel="noopener noreferrer">Video link</a></p><ul><li>Create a file <code>.env</code> in the root of the project</li><li>Paste the client connection environment variable block</li><li>Delete the <code>export</code> from in front of each line in the file</li></ul><p>You will end up something that looks like this:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token assign-left variable" style="color:rgb(191, 199, 213)">ZEEBE_ADDRESS</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;231bb36a-1588-4f1e-b4f6-e09944d7efd7.zeebe.camunda.io:443&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">ZEEBE_CLIENT_ID</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;Ny-WTmQniq4XluEG0_L9KAl-G8~i_dH1&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">ZEEBE_CLIENT_SECRET</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;9QZWpArT_2C1jU7Kru3Kll~7Hev9jyMsuo5tCk2ko0ZpzNRDb7nbiVqmcUBL&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token assign-left variable" style="color:rgb(191, 199, 213)">ZEEBE_AUTHORIZATION_SERVER_URL</span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;https://login.cloud.camunda.io/oauth/token&#x27;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Save the file.</li></ul></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="test-connection-with-camunda-cloud"></a>Test Connection with Camunda Cloud<a class="hash-link" href="#test-connection-with-camunda-cloud" title="Direct link to heading">#</a></h2><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">C# / ASP.NET Core 3</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Go</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java + Spring</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Kotlin + Spring</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">NodeJS</li></ul><div class="margin-vert--md"><div role="tabpanel"><p><a href="https://youtu.be/a-0BtrRY4M4?t=738" target="_blank" rel="noopener noreferrer">Video link</a></p><p>We will create a controller route at <code>/status</code> that retrieves the status and topology of the cluster.</p><ul><li>Create a file <code>Controllers/ZeebeController.cs</code>, with the following content:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly c#"><div tabindex="0" class="prism-code language-c# codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">namespace Cloudstarter.Controllers</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public class ZeebeController : Controller</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        private readonly IZeebeService _zeebeService;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        public ZeebeController(IZeebeService zeebeService)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            _zeebeService = zeebeService;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        [Route(&quot;/status&quot;)]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        [HttpGet]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        public async Task&lt;string&gt; Get()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            return (await _zeebeService.Status()).ToString();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Edit the file <code>Startup.cs</code>, and inject the <code>ZeebeService</code> class into the service container in the <code>ConfigureServices</code> method, like this:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly c#"><div tabindex="0" class="prism-code language-c# codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">public void ConfigureServices(IServiceCollection services)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    services.AddSingleton&lt;IZeebeService, ZeebeService&gt;();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    services.AddControllers();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Run the application with the command <code>dotnet run</code> (remember to set the client connection variables in the environment first).</li></ul><p>Note: you can use <code>dotnet watch run</code> to automatically restart your application when you change your code.</p><ul><li>Open <a href="http://localhost:5000/status" target="_blank" rel="noopener noreferrer">http://localhost:5000/status</a> in your web browser.</li></ul><p>You will see the topology response from the cluster.</p></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/_GQuqEwzWKM?t=337" target="_blank" rel="noopener noreferrer">Video link</a></p><ul><li>Paste the following code into the file <code>main.go</code>:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly go"><div tabindex="0" class="prism-code language-go codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">package</span><span class="token plain"> main</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;context&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;fmt&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;github.com/joho/godotenv&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;github.com/zeebe-io/zeebe/clients/go/pkg/pb&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;github.com/zeebe-io/zeebe/clients/go/pkg/zbc&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;log&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;os&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">func</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">main</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    zbClient </span><span class="token operator" style="color:rgb(137, 221, 255)">:=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getClient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">getStatus</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">zbClient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">func</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getClient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> zbc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Client </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    err </span><span class="token operator" style="color:rgb(137, 221, 255)">:=</span><span class="token plain"> godotenv</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">Load</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> err </span><span class="token operator" style="color:rgb(137, 221, 255)">!=</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">nil</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">Fatal</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Error loading .env file&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    gatewayAddress </span><span class="token operator" style="color:rgb(137, 221, 255)">:=</span><span class="token plain"> os</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">Getenv</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ZEEBE_ADDRESS&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    zbClient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> err </span><span class="token operator" style="color:rgb(137, 221, 255)">:=</span><span class="token plain"> zbc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">NewClient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;</span><span class="token plain">zbc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">ClientConfig</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        GatewayAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">  gatewayAddress</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> err </span><span class="token operator" style="color:rgb(137, 221, 255)">!=</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">nil</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token function" style="color:rgb(130, 170, 255)">panic</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> zbClient</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">func</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getStatus</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">zbClient zbc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Client</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ctx </span><span class="token operator" style="color:rgb(137, 221, 255)">:=</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">Background</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    topology</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> err </span><span class="token operator" style="color:rgb(137, 221, 255)">:=</span><span class="token plain"> zbClient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">NewTopologyCommand</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">Send</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> err </span><span class="token operator" style="color:rgb(137, 221, 255)">!=</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">nil</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token function" style="color:rgb(130, 170, 255)">panic</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">_</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> broker </span><span class="token operator" style="color:rgb(137, 221, 255)">:=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">range</span><span class="token plain"> topology</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Brokers </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        fmt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">Println</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Broker&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> broker</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Host</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;:&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> broker</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Port</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">_</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> partition </span><span class="token operator" style="color:rgb(137, 221, 255)">:=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">range</span><span class="token plain"> broker</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Partitions </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            fmt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">Println</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;  Partition&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> partition</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">PartitionId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;:&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">roleToString</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">partition</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Role</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">func</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">roleToString</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">role pb</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Partition_PartitionBrokerRole</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">switch</span><span class="token plain"> role </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">case</span><span class="token plain"> pb</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Partition_LEADER</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Leader&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">case</span><span class="token plain"> pb</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Partition_FOLLOWER</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Follower&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">default</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Unknown&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li><p>Run the program with the command <code>go run main.go</code>.</p></li><li><p>You will see output similar to the following:</p></li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">2020/07/29 06:21:08 Broker zeebe-0.zeebe-broker-service.aae86771-0906-4186-8d82-e228097e1ef7-zeebe.svc.cluster.local : 26501</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">2020/07/29 06:21:08   Partition 1 : Leader</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>This is the topology response from the cluster.</p></div><div role="tabpanel" hidden=""></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/7vBxJmXD3Js?t=436" target="_blank" rel="noopener noreferrer">Video link</a></p><ul><li>Annotate the <code>CloudStarterApplication</code> class in the file <code>src/main/java/io.camunda/CloudStarterApplication.java</code> with
the <code>@EnableZeebeClient</code> annotation, and add the <code>@Autowired</code> <code>ZeebeClientLifecycle</code> property:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><div tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">@SpringBootApplication</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@EnableZeebeClient</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public class CloudStarterApplication {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        @Autowired</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        private ZeebeClientLifecycle client;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Add the <code>@RestController</code> annotation to the class, and create a REST mapping that returns the cluster topology:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><div tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">@SpringBootApplication</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@RestController</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@EnableZeebeClient</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public class CloudStarterApplication {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @Autowired</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    private ZeebeClientLifecycle client;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public static void main(String[] args) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        SpringApplication.run(CloudStarterApplication.class, args);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @GetMapping(&quot;/status&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public String getStatus() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        Topology topology = client.newTopologyRequest().send().join();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return topology.toString();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li><p>Run the application with the command <code>mvn spring-boot:run</code>.</p></li><li><p>Open <a href="http://localhost:8080/status" target="_blank" rel="noopener noreferrer">http://localhost:8080/status</a> in your web browser.</p></li></ul><p>You will see the topology response from the cluster.</p></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/TFDSv8YAazI?t=324" target="_blank" rel="noopener noreferrer">Video link</a></p><ul><li>Annotate the <code>CloudStarterApplication</code> class in the file <code>src/main/java/io.camunda/CloudStarterApplication.kt</code> with
the <code>@EnableZeebeClient</code> annotation, and add the <code>@Autowired</code> <code>ZeebeClientLifecycle</code> property:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly kotlin"><div tabindex="0" class="prism-code language-kotlin codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">@SpringBootApplication</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@EnableZeebeClient</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">class CloudstarterApplication {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @Autowired</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    private val client: ZeebeClientLifecycle? = null</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    fun main(args: Array&lt;String&gt;) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        runApplication&lt;CloudstarterApplication&gt;(*args)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Add the <code>@RestController</code> annotation to the class, and create a REST mapping that returns the cluster topology:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly kotlin"><div tabindex="0" class="prism-code language-kotlin codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">@SpringBootApplication</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@EnableZeebeClient</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@RestController</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">class CloudstarterApplication {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @Autowired</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    private val client: ZeebeClientLifecycle? = null</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @GetMapping(&quot;/status&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    fun getStatus(): String? {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        val topology = client!!.newTopologyRequest().send().join()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return topology.toString()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    fun main(args: Array&lt;String&gt;) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        runApplication&lt;CloudstarterApplication&gt;(*args)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li><p>Run the application with the command <code>mvn spring-boot:run</code>.</p></li><li><p>Open <a href="http://localhost:8080/status" target="_blank" rel="noopener noreferrer">http://localhost:8080/status</a> in your web browser.</p></li></ul><p>You will see the topology response from the cluster.</p></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/AOj64vzEZ_8?t=370" target="_blank" rel="noopener noreferrer">Video link</a></p><p>We will connect to the Zeebe cluster in Camunda Cloud, and request its topology.</p><ul><li>In the <code>src</code> folder, create a file called <code>app.ts</code>.</li><li>Edit the file, and put in the following code:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly typescript"><div tabindex="0" class="prism-code language-typescript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">ZBClient</span><span class="token imports"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;zeebe-node&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">require</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;dotenv&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">async</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">main</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> zbc </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:rgb(255, 203, 107)">ZBClient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> res </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">await</span><span class="token plain"> zbc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">topology</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">res</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">main</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Run the program with the command: <code>ts-node src/app.ts</code></li></ul><p>You will see output like this:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><div tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token number" style="color:rgb(247, 140, 108)">03</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token number" style="color:rgb(247, 140, 108)">19</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token number" style="color:rgb(247, 140, 108)">46.658</span><span class="token plain"> | zeebe |  INFO</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> Authenticating client with Camunda Cloud...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token number" style="color:rgb(247, 140, 108)">03</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token number" style="color:rgb(247, 140, 108)">19</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token number" style="color:rgb(247, 140, 108)">49.998</span><span class="token plain"> | zeebe |  INFO</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> Established encrypted connection to Camunda Cloud.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  brokers</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      partitions</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">Array</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      nodeId</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      host</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> &#x27;zeebe</span><span class="token number" style="color:rgb(247, 140, 108)">-0</span><span class="token plain">.zeebe-broker-service.231bb36a</span><span class="token number" style="color:rgb(247, 140, 108)">-1588</span><span class="token plain">-4f1e-b4f6-e09944d7efd7-zeebe.svc.cluster.local&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      port</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">26501</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  clusterSize</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  partitionsCount</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  replicationFactor</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="create-a-bpmn-model"></a>Create a BPMN model<a class="hash-link" href="#create-a-bpmn-model" title="Direct link to heading">#</a></h2><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">C# / ASP.NET Core 3</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Go</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java + Spring</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Kotling + Spring</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">NodeJS</li></ul><div class="margin-vert--md"><div role="tabpanel"><p><a href="https://youtu.be/a-0BtrRY4M4?t=941" target="_blank" rel="noopener noreferrer">Video link</a></p></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/_GQuqEwzWKM?t=524" target="_blank" rel="noopener noreferrer">Video link</a></p></div><div role="tabpanel" hidden=""></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/7vBxJmXD3Js?t=900" target="_blank" rel="noopener noreferrer">Video link</a></p></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/TFDSv8YAazI?t=616" target="_blank" rel="noopener noreferrer">Video link</a></p></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/AOj64vzEZ_8?t=753" target="_blank" rel="noopener noreferrer">Video link</a></p></div></div></div><ul><li>Download and install the <a href="https://github.com/zeebe-io/zeebe-modeler/releases" target="_blank" rel="noopener noreferrer">Zeebe Modeler</a>.</li><li>Open Zeebe Modeler and create a new BPMN Diagram.</li><li>Create a new BPMN diagram.</li><li>Add a StartEvent, an EndEvent, and a Task.</li><li>Click on the Task, click on the little spanner/wrench icon, and select &quot;Service Task&quot;.</li><li>Set the <em>Name</em> of the Service Task to <code>Get Time</code>, and the <em>Type</em> to <code>get-time</code>.</li></ul><p>It should look like this:</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAbEAAADOCAAAAACVuGPNAAAAAmJLR0QA/4ePzL8AAAAHdElNRQflBQoXFCO4oFxXAAAMYnpUWHRSYXcgcHJvZmlsZSB0eXBlIGljYwAAWIWtmWmuIysShf/nKnoJDAFBLIcppN7/BvojbVf5PrueVFL7FkqbJCGI4ZxD1vXfOa//8MlZwhXOZ4VZowYNdYYU76666lbRVJKopBRKK1Z6CkG3cJsWM1c6QuN7uGqsWbMGiSWUIDM8P//8/W8fZ9VjUXx1rJzWL8v+8nP93fAYq9SiuebHz/Lsr+mqcrrretwY8rh6YsNBkz5+594eD6SsiufCq38+LY9y4c7bjY8b+7WyVH3vd/nV/z5eQnufSIjMw1SJjxXaiSLeSlXv3zO9LApasV+fFk159meittm11YcpU183NsMbkz0fGK+JJgFa1V/9+2lpalf9k0X6Z0vrF0uv+4Z+3vgRnd+fJth/8q6eFLbfN/4y/H/+/P8nwoVTyz+3kurzy6xNk7SSHj/jI/xxtTqqyyjp+rixa5It/tFvz0j9s78RlVbK50SUsORnwr33S40iMr4sPFl4fk5Uq0kV+7RIRazIRz+xlVLyx0Rks5M/n1ur+ChL/Ogn/9+c/TZRqaOULw+wttgLn97G99pIXf2ciK2VKvujP7NA/vTRmQhL95etaSmplE9f1H1A9+uW67fwL33LpR9bM7b2aamcrUn7En7CTBS+WhS/Waq5tG/hx07y5evWypcFDlpK+rK1U9e/2ePHRFP0s0RAgkoQPjP75jL58gArQ1CfCdlxRS+feQSKQQRnCye7z3zn98krMD9kOvK5nt+MKVwfi156AKzpr4KUXJ3VjQw3AK+diMuT64gy01NdOe00E9Pmu90T/aLit4/nY9kv4oTMQvs2Tse+ETU3f/moh28DizygdyR7ON/H13EJY++JYKu7SGdaCxgpZHf9MfI3EpV7VaY8T9HwY9yHOK9DJbT1dCQT5PF48uSS8NBBghOtwkOFhw6K1nYwlc0deYLz9SRkwxeNCRoTHBgyJjAmMCboPHTouq+zQRoPDbY540HfQ3hHE9GOjxY/TgltJtjjthqhcjsk3n9KW7g804zmIaZC4z67iLnRqH4qizZRFnRiPiGi8TDsG5V7yr3GJFgcjTFYGzsLdMYOroPrjEw0+bLoWFw3121HjdA6+ZhpR8UJbYUEq6Tk+LaFRJIm8Ik6oK0rHPpNSqfyYKOz7ZCMgcQ4dSYZPIxPEv5Iq4R0goQLkpdwcjGHQaIT/oxoRKmFzCrwB83DYZFcK9WATbrJOH4bv5k8d34Pfk8NeeVbCuVN1LIb0a7UQQ4HAIVJhRQArMgAgIBwCxYLE0qb1EgnK7iHpTKFUuT+xkcnTcQ3qbaowUkNkr6ZVKdoS2mhsPVCrhRSpGBV6bQBEIA2ha0Wol2crdXzR6hqoi6PzMCSSvRq7aHqIPdmqLZC7X5r1Epg6s4B1gqnlpWU0DSuoHkBNY4UI2NAAWVlNW7iaB30L2Qaq6o39NEgfz008qfJKeVOLu/QGgjZMLd1OgYdPNS2hkYyGslrJJ6xTWOhw/2GIrLG9853HG6T7yxijkU9xtDZVseyTk50ttQpm04KdCLU8UVfM3Q/geaPY8DIFgagNipXKmgYLDLGKR+MJhkHEZyRFEwdoZnDLBNdWcIkt2bXcNTwJHEnk67zR4IuOaXWr7Dwy2LgIuXXZMDiO/7YpMMm+zbRQ7CGrR62Dcqxho0L9t6UpQVn+y6E34EGJ6sdX/nIwdm371PeeCkRAQGgK/tXTDaKa9C/SCwvkUK+/0XxCxxdMbYZY8db02Lcjc1ppK5ikhJTlUjpxNRzTJO2M7bSEo1FEKwAQL5i7uT0LCBBoTThFgoPJQRq9ihtwDULcNgsCjjEFCExCLdGKAOwGLGMFdnURSrmI5zR5hZrnbE2j3UkDKXPe1SgQSVGeDBqs6h9R3Irqmts4Ah1HqHPK7bWY+se2yqx8eANOWzJ6ojGTm2Qu2vBfBJ76rHjmq4KHO1IasSOP7H7iiOPONjnYMKBJWP1eBCIFIizcNURJ/6Zc8aJgxegtajipQfCLBLpuKh+umvkSBE3PtkmcZNQe1t0wuF5R698p9+HR9893VCK7ym8RJqTdGCGhysRKgCwsWmW73hz7sRTKSVNCK6UGl+7J6gKUu0J3EpgVcomKc+Ush+w9CuJLM6/M0kfSVY/1ZUKg0ulwdxl0hwGZ2LYPR3lXgdtN+JLE0uq/QJhR9J1jjMrteypkUKtY8iSBJgkY1Icn8xWAk0oHgzMJaEdU7cBGjsIlq40cgWWLQ0GkhLpQNvMxskMocCEcymYCQnjl6U1LRZem7wkaRDqCcOAcL0SNZM8CVjek1tMzlbcQa6MtqkUX6d616AQSGUhfLgoDq6e8rGN029ONi5wXzIjcwacs3rOo+VMyARb5Ygx21lWy+R+LgB0QaSVmXLxlc95A1Wba99XrtvyEfV6SMNmVmRti5IbbNPazG020KfcQTIWssHGHbhjmq6S2SnE4ldmx3lU0rL3jN4hopqRVHmypblzXkSYasnkaQZh8k7nxEuDkUASwhOz13hlJzV8J5gxU7NyIPKAD64lCysV3SdZurEHpsL0NJBNjilUO+azGswV8oUURt+2LlT4AQ2oDC0KKJe1OeSj6ivqsI8joQTviOog7aA4CKvJEOpY2tKLml/oQnzaUfYM7lmlsxKGwOxT7hMIEw+spv6EoMocHYlK/gpXIxZrXrJRARtVTy48uJKDAr4UX4foAWyNBWAH6sERuBA4KBRmIQlKUsoaUAfarkIcIdZe8Fg5Gl5QlrI4aiUOmBxwCHUBhEuFWmvn5ORoQ44GSiXB4qWRgU0XqnaOYqCMcbyycShPS+ex3mleysBrw2icIGamgWJz1bKwdmkra1oBma7CmbTssQqQD4XHAgEgtTCikFnMBhuAv9zpwCiGJTyKyq3IJDxLMpnWvMd1Ag7KcozdRvawlFHk+7xLWZwBU6XKK7Re1UhixlDYFXaubU8OXrma9WoeLzKF84Q5GkHrYOXRubpjp9bZHe3KGQ6NsQaaH07ZnPT3JBvwuCMUHEhHjV0QPbplExsSPlpRNAIBBnA6hqAgM56g/shQebyCmoQJsEG5K845+9JK0Wr1ppyIybMMwUAUdWtjsKWu1pANG9iSqgQWkSMKvuugjsBVnY12SAWmVWpIj37dQOBmAOiAghH1jcoSRUm0IykaHNXiXIBIAOkAYBcgQRtFCn2uq5HrTTbFzkOlD9TR8W46h9t278m8MWPjTAsY7GaAthm2+m6UZeuzN5j+aviwDZ9tVhCDzgV0LZ5Z7m3fwdnNM7Rp6Ga0G3INtQG1ID5jbwZ7ANr9Mrj8VIuBJUAOmqpRdNRJKW5l2l2GxNdQUIYzDT8Yh2FrA8NIKsSdmc+LLGjWF0kN1o/uBg3aZMx0tUWGwUIG79num3RZbHSYOxKvIm8XrCoKs9YLeK8dmuD4QlMaTClUFWVOAbZeOmshVXBAJ2nIst2xqjeIpE3p4Csj7ELMzN4hfSilD8psbIPSZ58owSVoEbh8wx0b2kdedCw67zUGJYnq6gMVMuKqF6wI40+QPuP8vtkhdWpUcsyjtI4+w3C1AbANzrgDayhtyntxnIFVjWcB6Wv0UZhpD0qDPItj2jiKZyykLTsAxsE0h/lhUndEJVIybBRF1Rk3EF8c0hsXyABVLA4DyH7gdhYZ7IxsEE6qkxOHHEFCfuQ125gT/mAtQ6C0iS8mYDEHzp7MNNnIhLEmeAZx1IngRLjqdDbAaWaFgWzLk80gQ7MvTksrIxqgG9xomDGuBdCusnBXKasuYJz58MN5S4LYJTcrgpi4E67VfeB7xC+nkNk68gsRbBUGn9dC8ixHHnjnZANdhkG/cN6Z6JsCja2BkXkDXhsa2eKTKgTmw9rnJS9wsUmAC0pEB4yJxiL3FwEFVPsGNAGXgb+B1o3u3csmKqFt4rod5vOJji6cJ3bxqOlChjlaBpdEcyDJBQKBd0BrsHdtr3V5PUFDaDbGNJIOqUMJqIMs3lHyQ/Vy4ulUDh40X9TIluF7TTCSsnXn3HXea8e31wmvN17AcL1fNDjQ9fzvjHK/d4Tcn284yvjxAvz3J769M3nvC9efbvyp/8eL9N9GPt6N9P168fEwABR7GFYfV3TkY6YkP8ZBqPftzOd6fXm7/vigpBBg+f31DOea8XiRDqseP3p+vdDUdPsIutf7BgPv6+qPtzaIo3OZ4cTw7Z3/r41VuydCI8E858gvedl289d/Ivz5c/0PcstRCgr6Zo0AAAmqSURBVHja7d1/TJT3Acfxj0eyNmvPY117a3oXs6HSciBNRFqd7bbaWW1JxU4l/sC4pMOoWV2NDTqyVSkuC+CizmLTgjYK/pgwlWo0XbOsui7EcE6nom0RzaZM0YOpiNVyd5/9caCocGfxebzncp/3f/fck/ORF/d9vvfc8/CAKraCfgQSUxJTEpOYkpiSmMSUxJTEJKYkpiQmMSUxJTGJKYkpiUlMSUxJTElMYkpiSmISUxJTEpOYkpiSmMSUxJTEJKYkpiQmMSUxJTGJKYkpiSmJSUzFs9iFVVmuBBhcgitrlU9iplRguNYNtQKJGV9DBpBd2dRp9Ot2NlVOADIaJGY0mAsj9pr14p9mwNUgMWPLQLafJN98/JF1xr965wRkSMzQfo0RfnJzIOD56Bf53LPGcLIMFEjMyFmiDXvJKU+NnDBxf43rSdv33jV8YESCT2LGtRLZ5LYhXF13cf8hfli7Y4jh/8QErJKYcb2CKpIZpSx+4OnU5J2/cgw0fGdWiSyJGdcTOElef2F3ybNN3Fw7IMmEnVkTXBIzLhv8XDh4OL9zjFOeGvnDF/fXPPKEwTuzTiRIzLCCGEAOqj34RZKJOzNAYsaKPT5tTbM9tDP71tNDv7+T496WmKXFNv4+vWPciusv7C4Z3kR+NKDul/kSs7QYmb368KOPpdNxjCTLpn054rvvS8zKYvse2kR37cEvBpEkj6Xx1KK3JGZlsfLE7c88PG1N80Mkyc8y26em50vM0qPiuqGlox5+suNHK0ly6u/WDvnTNYlZWowkMwcvPzzorb9uy/oZny3SzCMGxMoe2MSz+S9O/ANZOLhZYtYXK0/c/kz2drYWj/9p2aMNErO+GNcNLZ362F+Wjtj08x8ctf6ouK8oO8VhszlSJhbts6SYt3hyqsNmc6ROLvGaJEaSmbk/Xkqep8XFGvPdPc//cec3WkysvdjTcwNTS66YJfZZYaEJ/3GDxc7OvfOkrbnnrCRW7ADcszccagsG2w5tmO0CEktMEjPnV9VYsQpHb+fZOSosI+YdCbxc23NJ7XhglDdexbreYANzK7ytgUCrtyJ3YNfbzCJiVQOQWnv7wloPbFXxKZYNABhWEbi5KFCRBgCYaAmx94DZwTsXB/KA9+JRLAS2/PbFpaaQ9We7q4BlvT+zDKiKP7G5ADCslz1CfZoJA2M/tts7oC8wsgg2b7yJVQDA8629PeV7DgAqoi02ErP7fjIPo+JM7KwDwLDW3p/0pQFwnIuuWDFSg30/G/CgJL7E5gJAnwNLveHj4jfe7nYHasM9X4vEK/Ek1tjrpOO26UdjNMWK8XL4Fcbf85sspsTyAQwLt0IagPxoinnCv8XIWqTGk5g70tSiHIA7imLeyP+6C/2cLlbfnVjwfDD6Yt3bug/AwEC4NQMDAeyLnlhxuIli93Sxf8PijAdTqiOLnZpkB+Zc6n74z7UkWRg6JFTgvF9iud3bWgQgN8K6AIqiJzYJGyKtsh6T+7UpS4DElOoIYo3O3/rYOHpW9+OF80myw+fLmu/ztey/X2I3tjU78uetcmMPfHzT7U7FoUirHOznjmwJEPo5hBP7zUskeXR5kHvS7dnNH9vti0NPvLaIrH+eaxaMsb/xcbJnJwOlbueCayaJLe3e1pRwU/ubE/yU6Ik50BZplVYk9l8MSEzZGkZsTPdXZadQ+I9xcy7NnH7mptheJwvxQQ3cuwuGcwu27EraYt57LLSt3wbQGn5dHwBH9MRsiLjbD9z732/oW8xdRhYmJyefXu78z+lP7P7QqNhDbDSZtITHcS0r5/Tpopy+56PGFQj/8/ADsMWv2KQ5ZF3luzixAABw+A6x6WT6Vp7EVQ8AOCV2H0ZFT3UYsVJnC8kWnKhKJ68fuH6H2EwyvZoncTVvIXnhaBgxI0ZFj/VHRdNnHp6asDOP9szhu//9yU9wxoct1wqTrr6dfbEPsV1Ob/u4XDPFEj01MTDzmGzu7N5TE+nzmC/XCbz6ObkcSP8bd+OlruFyMbnXyXdmkenVPIWrX00HxjSbJ5boqSY50fKz+xLzPkHnPuipuaujVGf9JMnOCyR59Xqf63VcCnck7B4/QXvu+hP0jOh+gvZGvuK730epau7jccV7FLuxrZGPUvnt0T1KxdRIR4J3xMSR4GDcHAlmCcaHXyE2vm0JGvltS1q4FdIALIqm2JUI32juiI1vNIOGfqNZ2vfzpQBwIppiLIEnzLjtT4mNswaC9/OsgXmMqhhHIi/cRFFn5vT8LGKFM3PotYU9++1AnImFzn57LszZb2sZZbEwZ5gWARsZb2JdZ5jW9zIkphk+Jvb/LO68XvZlcX4Wd2mvkw5LnMVNVtnguWPGuMMD20bGo1gXWVp5j19jf7mVrpQIXY00/hazHeOBUQcYn2I3r0Yqr/f5/b768hn20JJ5tIhY6Io/V976g62BQOvB9Xm64q/XK/7W0jpibC9JvU9X1caCGM/1clXtPEtdVUuS3pLJqYk2W6LJV67HhNidV64vOmHOhtN6xagYyX1FE6391yEkFoUkJjGJSUxiEpOYxGJALNjil1gsiZXZgYWdXHGqx7JbHsSd2BEAwJybC/7ltpJYM/4e+Ny+hc7jPRbe8iAOxTo6Ojq+tqpYI/aT+48uhft0XSacf2ZWjn023KfjWowk2Tb8dfvwL3l0tP1VS4lxKZLm1zHgPMr0dddXJNOTU9fhNOqvjNrgNxvM+DvtHEFOTk5OvQ9LLk59k8nvtEyxlhhbNs/EZjqPs6N22VgnPbuNGxVDd7MyN+PvZnUEW7du3drsQzPfn3keLdxjKbFtxSRXj6XzuD997B/XOOmpM1DsFVSZLWb8HeO6RkUfglyb+1+0sc5SYnXY9fX/Js2n29uCM1xsp6eOdBv1lctKZJstZvxdGY/g8uXLlztCYnSX+RdYa1T80Am81sZZ8L7hTHodPk8dOQsGkYXufGpmJtz5NDS7z+wSq3fbMy22H2PLNZJsJ6981b2o3aitCt1d2MR5h/l3Fw62mfTCFr+Dt0lguoO34TW4MMK0gfHTDLgaJGY0WQaQXdnUafjbq6lyApARu2C07vHQggSYVEIBKTETurAqy2W4WoIra5WPElMSUxKTmJKYkpjElMSUxCSmJKYkJjElMSUxiSmJKYkpiUlMSUxJTGJKYkpiElMSUxKTmJKYkpjElMSUxCSmJKYkJjElMSUxJTGJKYkpiUlMSUxJTGJKYkpiElMSUxKTmJKYkpjElMSUxCSmJKYkpiQmMSUxJTGJKYkpiUlMSUxJTGJKYkpiElMSU/fe/wFM2uVj8PhZOQAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMS0wNS0xMFQyMzoxOTo1MyswMDowMLqvDFsAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjEtMDUtMTBUMjM6MTk6NTMrMDA6MDDL8rTnAAAAKHRFWHRpY2M6Y29weXJpZ2h0AENvcHlyaWdodCBBcHBsZSBJbmMuLCAyMDIwCrresAAAABd0RVh0aWNjOmRlc2NyaXB0aW9uAERpc3BsYXkXG5W4AAAAAElFTkSuQmCC"></p><ul><li>Click on the blank canvas of the diagram, and set the <em>Id</em> to <code>test-process</code>, and the <em>Name</em> to &quot;Test Process&quot;.</li></ul><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">C# / ASP.NET Core 3</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Go</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java + Spring</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Kotling + Spring</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">NodeJS</li></ul><div class="margin-vert--md"><div role="tabpanel"><ul><li>Save the diagram to <code>Resources/test-process.bpmn</code> in your project.</li></ul></div><div role="tabpanel" hidden=""><ul><li>Save the diagram to <code>test-process.bpmn</code> in your project.</li></ul></div><div role="tabpanel" hidden=""></div><div role="tabpanel" hidden=""><ul><li>Save the diagram to <code>src/main/resources/test-process.bpmn</code> in your project.</li></ul></div><div role="tabpanel" hidden=""><ul><li>Save the diagram to <code>src/main/resources/test-process.bpmn</code> in your project.</li></ul></div><div role="tabpanel" hidden=""><ul><li>Save the diagram to <code>bpmn/test-process.bpmn</code> in your project.</li></ul></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="deploy-the-bpmn-model-to-camunda-cloud"></a>Deploy the BPMN model to Camunda Cloud<a class="hash-link" href="#deploy-the-bpmn-model-to-camunda-cloud" title="Direct link to heading">#</a></h2><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">C# / ASP.NET Core 3</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Go</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java + Spring</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Kotlin + Spring</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">NodeJS</li></ul><div class="margin-vert--md"><div role="tabpanel"><p><a href="https://youtu.be/a-0BtrRY4M4?t=1079" target="_blank" rel="noopener noreferrer">Video Link</a></p><p>We need to copy the bpmn file into the build, so that it is available to our program at runtime.</p><ul><li>Edit the <code>Cloudstarter.csproj</code> file, and add the following to the <code>ItemGroup</code>:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly xml"><div tabindex="0" class="prism-code language-xml codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">ItemGroup</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">None</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">Update</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">Resources\**</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">CopyToOutputDirectory</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(199, 146, 234)">=</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 85, 114)">PreserveNewest</span><span class="token tag attr-value punctuation" style="color:rgb(199, 146, 234)">&quot;</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">ItemGroup</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Now we create a method in our service to deploy a bpmn model to the cluster.</p><ul><li>Edit <code>ZeebeService.cs</code>, and add a <code>Deploy</code> method:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly c#"><div tabindex="0" class="prism-code language-c# codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">public async Task&lt;IDeployResponse&gt; Deploy(string modelFilename)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    var filename = Path.Combine(AppDomain.CurrentDomain.BaseDirectory!, &quot;Resources&quot;, modelFilename);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    var deployment = await _client.NewDeployCommand().AddResourceFile(filename).Send();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    var res = deployment.Workflows[0];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    _logger.LogInformation(&quot;Deployed BPMN Model: &quot; + res?.BpmnProcessId +</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                &quot; v.&quot; + res?.Version);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return deployment;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>In the <code>ZeebeService.cs</code> file, update the interface definition:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly c#"><div tabindex="0" class="prism-code language-c# codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">public interface IZeebeService</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Task&lt;IDeployResponse&gt; Deploy(string modelFilename);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Task&lt;ITopology&gt; Status();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>Now, we call the <code>Deploy</code> method during the initialization of the service at startup. We need to do it here, because the service is not instantiated</p><ul><li>Edit <code>Startup.cs</code>, and add the following lines to the <code>Configure</code> method:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly c#"><div tabindex="0" class="prism-code language-c# codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">public void Configure(IApplicationBuilder app, IWebHostEnvironment env)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    var zeebeService = app.ApplicationServices.GetService&lt;IZeebeService&gt;();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    zeebeService.Deploy(&quot;test-process.bpmn&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/_GQuqEwzWKM?t=712" target="_blank" rel="noopener noreferrer">Video Link</a></p><ul><li>Edit the <code>main.go</code> file, and add a new function <code>deploy</code>:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly go"><div tabindex="0" class="prism-code language-go codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">func</span><span class="token plain"> deploy </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">zbClient zbc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Client</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ctx </span><span class="token operator" style="color:rgb(137, 221, 255)">:=</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">Background</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    response</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> err </span><span class="token operator" style="color:rgb(137, 221, 255)">:=</span><span class="token plain"> zbClient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">NewDeployWorkflowCommand</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">AddResourceFile</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;test-process.bpmn&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">Send</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> err </span><span class="token operator" style="color:rgb(137, 221, 255)">!=</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">nil</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token function" style="color:rgb(130, 170, 255)">panic</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">Println</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">response</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">String</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Now update the <code>main()</code> function to look like this:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly go"><div tabindex="0" class="prism-code language-go codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">func</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">main</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    zbClient </span><span class="token operator" style="color:rgb(137, 221, 255)">:=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getClient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">getStatus</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">zbClient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">deploy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">zbClient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Run the program with <code>go run main.go</code>.</li></ul><p>You will see the deployment response:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">2020/07/29 06:23:07 Broker zeebe-0.zeebe-broker-service.aae86771-0906-4186-8d82-e228097e1ef7-zeebe.svc.cluster.local : 26501</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">2020/07/29 06:23:07   Partition 1 : Leader</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">2020/07/29 06:23:08 key:2251799813685251 workflows:&lt;bpmnProcessId:&quot;test-process&quot; version:1 workflowKey:2251799813685249 resourceName:&quot;test-process.bpmn&quot; &gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div><div role="tabpanel" hidden=""></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/7vBxJmXD3Js?t=1069" target="_blank" rel="noopener noreferrer">Video Link</a></p><ul><li>Edit the <code>src/main/java/io.camunda/CloudStarterApplication.java</code> file, and add the <code>@ZeebeDeployment</code> annotation to the
<code>CloudStarterApplication</code> class:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><div tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@ZeebeDeployment(classPathResources = {&quot;test-process.bpmn&quot;})</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public class CloudStarterApplication {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/TFDSv8YAazI?t=752" target="_blank" rel="noopener noreferrer">Video Link</a></p><ul><li>Edit the <code>src/main/kotlin/io.camunda/CloudStarterApplication.kt</code> file, and add the <code>@ZeebeDeployment</code> annotation to the
<code>CloudStarterApplication</code> class:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly kotlin"><div tabindex="0" class="prism-code language-kotlin codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">@ZeebeDeployment(classPathResources = [&quot;test-process.bpmn&quot;])</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">class CloudStarterApplication {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/AOj64vzEZ_8?t=908" target="_blank" rel="noopener noreferrer">Video Link</a></p><ul><li>Edit the <code>src/app.ts</code> file, to be this:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly typescript"><div tabindex="0" class="prism-code language-typescript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">ZBClient</span><span class="token imports"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;zeebe-node&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports operator" style="color:rgb(137, 221, 255)">*</span><span class="token imports"> </span><span class="token imports keyword" style="font-style:italic">as</span><span class="token imports"> path</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;path&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">require</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;dotenv&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">async</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">main</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> zbc </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:rgb(255, 203, 107)">ZBClient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> filename </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">join</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">__dirname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;..&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;bpmn&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;test-process&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> res </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">await</span><span class="token plain"> zbc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">deployWorkflow</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">filename</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">res</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">main</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Run the program with the command: <code>ts-node src/app.ts</code></li></ul><p>You will see output similar to this:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><div tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token number" style="color:rgb(247, 140, 108)">01</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token number" style="color:rgb(247, 140, 108)">37</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token number" style="color:rgb(247, 140, 108)">30.710</span><span class="token plain"> | zeebe |  INFO</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> Authenticating client with Camunda Cloud...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token number" style="color:rgb(247, 140, 108)">01</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token number" style="color:rgb(247, 140, 108)">37</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token number" style="color:rgb(247, 140, 108)">36.466</span><span class="token plain"> | zeebe |  INFO</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> Established encrypted connection to Camunda Cloud.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  workflows</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      bpmnProcessId</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> &#x27;test-process&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      version</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      workflowKey</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> &#x27;</span><span class="token number" style="color:rgb(247, 140, 108)">2251799813687791</span><span class="token plain">&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      resourceName</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> &#x27;test-process.bpmn&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  key</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> &#x27;</span><span class="token number" style="color:rgb(247, 140, 108)">2251799813688440</span><span class="token plain">&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The workflow is now deployed to the cluster.</p></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="start-a-workflow-instance"></a>Start a Workflow Instance<a class="hash-link" href="#start-a-workflow-instance" title="Direct link to heading">#</a></h2><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">C# / ASP.NET Core 3</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Go</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java + Spring</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Kotlin + Spring</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">NodeJS</li></ul><div class="margin-vert--md"><div role="tabpanel"><p><a href="https://youtu.be/a-0BtrRY4M4?t=1816" target="_blank" rel="noopener noreferrer">Video Link</a></p><p>We will create a controller route at <code>/start</code> that will start a new instance of the workflow.</p><ul><li>Add fastJSON to the project:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">dotnet </span><span class="token function" style="color:rgb(130, 170, 255)">add</span><span class="token plain"> package fastJSON</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Edit <code>Services/ZeebeService.cs</code> and add a <code>StartWorkflowInstance</code> method:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly c#"><div tabindex="0" class="prism-code language-c# codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">public async Task&lt;String&gt; StartWorkflowInstance(string bpmProcessId)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    var instance = await _client.NewCreateWorkflowInstanceCommand()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            .BpmnProcessId(bpmProcessId)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            .LatestVersion()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            .Send();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    var jsonParams = new JSONParameters {ShowReadOnlyProperties = true};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return JSON.ToJSON(instance, jsonParams);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Update the service interface definition:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly c#"><div tabindex="0" class="prism-code language-c# codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">public interface IZeebeService</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Task&lt;IDeployResponse&gt; Deploy(string modelFile);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Task&lt;ITopology&gt; Status();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Task&lt;String&gt; StartWorkflowInstance(string bpmProcessId);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Edit <code>Controllers/ZeebeController.cs</code>, and add a REST method to start an instance
of the workflow:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly c#"><div tabindex="0" class="prism-code language-c# codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public class ZeebeController : Controller</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    [Route(&quot;/start&quot;)]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    [HttpGet]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public async Task&lt;string&gt; StartWorkflowInstance()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        var instance = await _zeebeService.StartWorkflowInstance(&quot;test-process&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return instance;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li><p>Run the program with the command: <code>dotnet run</code>.</p></li><li><p>Visit <a href="http://localhost:5000/start" target="_blank" rel="noopener noreferrer">http://localhost:5000/start</a> in your browser.</p></li></ul><p>You will see output similar to the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{&quot;$types&quot;:{&quot;Zeebe.Client.Impl.Responses.WorkflowInstanceResponse, Client, Version=0.16.1.0, Culture=neutral, PublicKeyToken=null&quot;:&quot;1&quot;},&quot;$type&quot;:&quot;1&quot;,&quot;WorkflowKey&quot;:2251799813685454,&quot;BpmnProcessId&quot;:&quot;test-process&quot;,&quot;Version&quot;:3,&quot;WorkflowInstanceKey&quot;:2251799813686273}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>A workflow instance has been started. Let&#x27;s view it in Operate.</p></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/_GQuqEwzWKM?t=884" target="_blank" rel="noopener noreferrer">Video Link</a></p><p>We will add a webserver, and use it to provide a REST interface for our program.</p><ul><li><p>Add <code>&quot;net/http&quot;</code> to the imports in <code>main.go</code>.</p></li><li><p>Edit the <code>main.go</code> file, and add a REST handler to start an instance:</p></li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly go"><div tabindex="0" class="prism-code language-go codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">type</span><span class="token plain"> BoundHandler </span><span class="token keyword" style="font-style:italic">func</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">w http</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">ResponseWriter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> r </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> http</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Request</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">func</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">createStartHandler</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">client zbc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Client</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> BoundHandler </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    f </span><span class="token operator" style="color:rgb(137, 221, 255)">:=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">func</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">w http</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">ResponseWriter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> r </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> http</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Request</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        ctx </span><span class="token operator" style="color:rgb(137, 221, 255)">:=</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">Background</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        request</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> err </span><span class="token operator" style="color:rgb(137, 221, 255)">:=</span><span class="token plain"> client</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">NewCreateInstanceCommand</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">BPMNProcessId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;test-process&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">LatestVersion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">Send</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> err </span><span class="token operator" style="color:rgb(137, 221, 255)">!=</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">nil</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token function" style="color:rgb(130, 170, 255)">panic</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        fmt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">Fprint</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">w</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> request</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">String</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> f</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Now update the <code>main()</code> function to add an HTTP server and the <code>/start</code> route:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly go"><div tabindex="0" class="prism-code language-go codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">func</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">main</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    zbClient </span><span class="token operator" style="color:rgb(137, 221, 255)">:=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getClient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">getStatus</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">zbClient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">deploy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">zbClient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    http</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">HandleFunc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/start&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">createStartHandler</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">zbClient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    http</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">ListenAndServe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;:3000&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">nil</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li><p>Run the program with the command: <code>go run main.go</code>.</p></li><li><p>Visit <a href="http://localhost:3000/start" target="_blank" rel="noopener noreferrer">http://localhost:3000/start</a> in your browser.</p></li></ul><p>You will see output similar to the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">workflowKey:2251799813685249 bpmnProcessId:&quot;test-process&quot; version:1 workflowInstanceKey:2251799813685257</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>A workflow instance has been started. Let&#x27;s view it in Operate.</p></div><div role="tabpanel" hidden=""></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/7vBxJmXD3Js?t=1093" target="_blank" rel="noopener noreferrer">Video Link</a></p><ul><li>Edit the <code>src/main/java/io.camunda/CloudStarterApplication.java</code> file, and add a REST method to start an instance
of the workflow:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><div tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public class CloudStarterApplication {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @GetMapping(&quot;/start&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public String startWorkflowInstance() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        WorkflowInstanceEvent workflowInstanceEvent = client</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            .newCreateInstanceCommand()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            .bpmnProcessId(&quot;test-process&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            .latestVersion()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            .send()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            .join();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return workflowInstanceEvent.toString();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li><p>Run the program with the command: <code>mvn spring-boot:run</code>.</p></li><li><p>Visit <a href="http://localhost:8080/start" target="_blank" rel="noopener noreferrer">http://localhost:8080/start</a> in your browser.</p></li></ul><p>You will see output similar to the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">CreateWorkflowInstanceResponseImpl{workflowKey=2251799813685249, bpmnProcessId=&#x27;test-process&#x27;, version=1, workflowInstanceKey=2251799813698314}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>A workflow instance has been started. Let&#x27;s view it in Operate.</p></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/TFDSv8YAazI?t=823" target="_blank" rel="noopener noreferrer">Video Link</a></p><ul><li>Edit the <code>src/main/kotlin/io.camunda/CloudStarterApplication.kt</code> file, and add a REST method to start an instance
of the workflow:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly kotlin"><div tabindex="0" class="prism-code language-kotlin codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">class CloudStarterApplication {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @GetMapping(&quot;/start&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    fun startWorkflowInstance(): String? {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        val workflowInstanceEvent = client!!</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                .newCreateInstanceCommand()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                .bpmnProcessId(&quot;test-process&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                .latestVersion()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                .send()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                .join()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return workflowInstanceEvent.toString()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li><p>Run the program with the command: <code>mvn spring-boot:run</code>.</p></li><li><p>Visit <a href="http://localhost:8080/start" target="_blank" rel="noopener noreferrer">http://localhost:8080/start</a> in your browser.</p></li></ul><p>You will see output similar to the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">CreateWorkflowInstanceResponseImpl{workflowKey=2251799813685249, bpmnProcessId=&#x27;test-process&#x27;, version=1, workflowInstanceKey=2251799813698314}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>A workflow instance has been started. Let&#x27;s view it in Operate.</p></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/AOj64vzEZ_8?t=1037" target="_blank" rel="noopener noreferrer">Video Link</a></p><ul><li>Edit the <code>src/app.ts</code> file, and make it look like this:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly typescript"><div tabindex="0" class="prism-code language-typescript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">ZBClient</span><span class="token imports"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;zeebe-node&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports operator" style="color:rgb(137, 221, 255)">*</span><span class="token imports"> </span><span class="token imports keyword" style="font-style:italic">as</span><span class="token imports"> path</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;path&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">require</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;dotenv&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">async</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">main</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> zbc </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:rgb(255, 203, 107)">ZBClient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> file </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">join</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">__dirname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;..&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;bpmn&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;test-process.bpmn&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">await</span><span class="token plain"> zbc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">deployWorkflow</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">file</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> res </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">await</span><span class="token plain"> zbc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">createWorkflowInstance</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;test-process&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">res</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">main</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Run the program with the command: <code>ts-node src/app.ts</code></li></ul><p>You will see output similar to:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><div tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token number" style="color:rgb(247, 140, 108)">02</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token number" style="color:rgb(247, 140, 108)">00</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token number" style="color:rgb(247, 140, 108)">20.689</span><span class="token plain"> | zeebe |  INFO</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> Authenticating client with Camunda Cloud...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token number" style="color:rgb(247, 140, 108)">02</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token number" style="color:rgb(247, 140, 108)">00</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token number" style="color:rgb(247, 140, 108)">23.769</span><span class="token plain"> | zeebe |  INFO</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> Established encrypted connection to Camunda Cloud.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  workflowKey</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> &#x27;</span><span class="token number" style="color:rgb(247, 140, 108)">2251799813687791</span><span class="token plain">&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  bpmnProcessId</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> &#x27;test-process&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  version</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  workflowInstanceKey</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> &#x27;</span><span class="token number" style="color:rgb(247, 140, 108)">2251799813688442</span><span class="token plain">&#x27;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>A workflow instance has been started. Let&#x27;s view it in Operate.</p></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="view-a-workflow-instance-in-operate"></a>View a Workflow Instance in Operate<a class="hash-link" href="#view-a-workflow-instance-in-operate" title="Direct link to heading">#</a></h2><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">C# / ASP.NET Core 3</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Go</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java + Spring</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Kotling + Spring</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">NodeJS</li></ul><div class="margin-vert--md"><div role="tabpanel"><p><a href="https://youtu.be/a-0BtrRY4M4?t=2026" target="_blank" rel="noopener noreferrer">Video Link</a></p></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/_GQuqEwzWKM?t=1016" target="_blank" rel="noopener noreferrer">Video Link</a></p></div><div role="tabpanel" hidden=""></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/7vBxJmXD3Js?t=1223" target="_blank" rel="noopener noreferrer">Video Link</a></p></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/TFDSv8YAazI?t=959" target="_blank" rel="noopener noreferrer">Video Link</a></p></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/AOj64vzEZ_8?t=1137" target="_blank" rel="noopener noreferrer">Video Link</a></p></div></div></div><ul><li>Go to your cluster in the <a href="https://camunda.io" target="_blank" rel="noopener noreferrer">Camunda Cloud Console</a>.</li><li>In the cluster detail view, click on &quot;<em>View Workflow Instances in Camunda Operate</em>&quot;.</li><li>In the &quot;<em>Instances by Workflow</em>&quot; column, click on &quot;<em>Test Process - 1 Instance in 1 Version</em>&quot;.</li><li>Click the Instance Id to open the instance.</li><li>You will see the token is stopped at the &quot;<em>Get Time</em>&quot; task.</li></ul><p>Let&#x27;s create a task worker to serve the job represented by this task.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="create-a-job-worker"></a>Create a Job Worker<a class="hash-link" href="#create-a-job-worker" title="Direct link to heading">#</a></h2><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">C# / ASP.NET Core 3</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Go</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java + Spring</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Kotlin + Spring</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">NodeJS</li></ul><div class="margin-vert--md"><div role="tabpanel"><p><a href="https://youtu.be/a-0BtrRY4M4?t=2142" target="_blank" rel="noopener noreferrer">Video Link</a></p><p>We will create a worker program that logs out the job metadata, and completes the job with success.</p><ul><li>Edit the <code>Services/ZeebeService.cs</code> file, and add a <code>_createWorker</code> method to the <code>ZeebeService</code> class:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly c#"><div tabindex="0" class="prism-code language-c# codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">private void _createWorker(String jobType, JobHandler handleJob)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    _client.NewWorker()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            .JobType(jobType)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            .Handler(handleJob)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            .MaxJobsActive(5)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            .Name(jobType)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            .PollInterval(TimeSpan.FromSeconds(50))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            .PollingTimeout(TimeSpan.FromSeconds(50))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            .Timeout(TimeSpan.FromSeconds(10))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            .Open();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Now add a <code>CreateGetTimeWorker</code> method, where we supply the task-type for the worker, and a job handler function:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly c#"><div tabindex="0" class="prism-code language-c# codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">public void CreateGetTimeWorker()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    _createWorker(&quot;get-time&quot;, async (client, job) =&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        _logger.LogInformation(&quot;Received job: &quot; + job);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        await client.NewCompleteJobCommand(job.Key).Send();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    });</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>The worker handler function is <code>async</code> so that it runs on its own thread.</p><ul><li>Now create a method <code>StartWorkers</code>:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly c#"><div tabindex="0" class="prism-code language-c# codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">public void StartWorkers()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    CreateGetTimeWorker();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>And add it to the <code>IZeebeService</code> interface:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly c#"><div tabindex="0" class="prism-code language-c# codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">public interface IZeebeService</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Task&lt;IDeployResponse&gt; Deploy(string modelFile);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Task&lt;ITopology&gt; Status();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public Task&lt;string&gt; StartWorkflowInstance(string bpmProcessId);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public void StartWorkers();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Now call this method in the <code>Configure</code> method in <code>Startup.cs</code>:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly c#"><div tabindex="0" class="prism-code language-c# codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">public void Configure(IApplicationBuilder app, IWebHostEnvironment env)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    var zeebeService = app.ApplicationServices.GetService&lt;IZeebeService&gt;();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    zeebeService.Deploy(&quot;test-process.bpmn&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    zeebeService.StartWorkers();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Run the program with the command: <code>dotnet run</code>.</li></ul><p>You will see output similar to:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">2020-07-16 20:34:25.4971 | DEBUG | Zeebe.Client.Impl.Worker.JobWorker | Job worker (get-time) activated 1 of 5 successfully.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">2020-07-16 20:34:25.4971 | INFO | Cloudstarter.Services.ZeebeService | Received job: Key: 2251799813686173, Type: get-time, WorkflowInstanceKey: 2251799813686168, BpmnProcessId: test-process, WorkflowDefinitionVersion: 3, WorkflowKey: 2251799813685454, ElementId: Activity_1ucrvca, ElementInstanceKey: 2251799813686172, Worker: get-time, Retries: 3, Deadline: 07/16/2020 20:34:35, Variables: {}, CustomHeaders: {}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Go back to Operate. You will see that the workflow instance is gone.</li><li>Click on &quot;Running Instances&quot;.</li><li>In the filter on the left, select &quot;<em>Finished Instances</em>&quot;.</li></ul><p>You will see the completed workflow instance.</p></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/_GQuqEwzWKM?t=1107" target="_blank" rel="noopener noreferrer">Video Link</a></p><p>We will create a worker that logs out the job metadata, and completes the job with success.</p><ul><li>Edit the <code>main.go</code> file, and add a handler function for the worker:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly go"><div tabindex="0" class="prism-code language-go codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">func</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">handleGetTime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">client worker</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">JobClient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> job entities</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Job</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">Println</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">job</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ctx </span><span class="token operator" style="color:rgb(137, 221, 255)">:=</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">Background</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    client</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">NewCompleteJobCommand</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">JobKey</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">job</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Key</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">Send</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Update the <code>main</code> function to create a worker in a go routine, which allows it to run in a background thread:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly go"><div tabindex="0" class="prism-code language-go codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">func</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">main</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    zbClient </span><span class="token operator" style="color:rgb(137, 221, 255)">:=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">getClient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">getStatus</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">zbClient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:rgb(130, 170, 255)">deploy</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">zbClient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">go</span><span class="token plain"> zbClient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">NewJobWorker</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">JobType</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;get-time&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">Handler</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">handleGetTime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">Open</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    http</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">HandleFunc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;/start&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">createStartHandler</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">zbClient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    http</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">ListenAndServe</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;:3000&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">nil</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Run the worker program with the command: <code>go run main.go</code>.</li></ul><p>You will see output similar to:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">2020/07/29 23:48:15 {{2251799813685262 get-time 2251799813685257 test-process 1 2251799813685249 Activity_1ucrvca 2251799813685261 {} default 3 1596023595126 {} {} [] 0}}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Go back to Operate. You will see that the workflow instance is gone.</li><li>Click on &quot;Running Instances&quot;.</li><li>In the filter on the left, select &quot;<em>Finished Instances</em>&quot;.</li></ul><p>You will see the completed workflow instance.</p></div><div role="tabpanel" hidden=""></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/7vBxJmXD3Js?t=1288" target="_blank" rel="noopener noreferrer">Video Link</a></p><p>We will create a worker program that logs out the job metadata, and completes the job with success.</p><ul><li>Edit the <code>src/main/java/io.camunda/CloudStarterApplication.java</code> file, and add a REST method to start an instance
of the workflow:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><div tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public class CloudStarterApplication {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Logger logger = LoggerFactory.getLogger(CloudStarterApplication.class);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        @ZeebeWorker(type = &quot;get-time&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        public void handleGetTime(final JobClient client, final ActivatedJob job) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            logger.info(job.toString());</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            client.newCompleteCommand(job.getKey())</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    .send().join();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Run the worker program with the command: <code>mvn spring-boot:run</code>.</li></ul><p>You will see output similar to:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">2020-06-29 09:33:40.420  INFO 5801 --- [ault-executor-1] io.zeebe.client.job.poller               : Activated 1 jobs for worker whatever and job type get-time</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">2020-06-29 09:33:40.437  INFO 5801 --- [pool-2-thread-1] i.c.c.CloudStarterApplication            : {&quot;key&quot;:2251799813698319,&quot;type&quot;:&quot;get-time&quot;,&quot;customHeaders&quot;:{},&quot;workflowInstanceKey&quot;:2251799813698314,&quot;bpmnProcessId&quot;:&quot;test-process&quot;,&quot;workflowDefinitionVersion&quot;:1,&quot;workflowKey&quot;:2251799813685249,&quot;elementId&quot;:&quot;Activity_1ucrvca&quot;,&quot;elementInstanceKey&quot;:2251799813698318,&quot;worker&quot;:&quot;whatever&quot;,&quot;retries&quot;:3,&quot;deadline&quot;:1593380320176,&quot;variables&quot;:&quot;{}&quot;,&quot;variablesAsMap&quot;:{}}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Go back to Operate. You will see that the workflow instance is gone.</li><li>Click on &quot;Running Instances&quot;.</li><li>In the filter on the left, select &quot;<em>Finished Instances</em>&quot;.</li></ul><p>You will see the completed workflow instance.</p></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/TFDSv8YAazI?t=1026" target="_blank" rel="noopener noreferrer">Video Link</a></p><p>We will create a worker program that logs out the job metadata, and completes the job with success.</p><ul><li>Edit the <code>src/main/kotlin/io.camunda/CloudStarterApplication.kt</code> file, and add a REST method to start an instance
of the workflow:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly kotlin"><div tabindex="0" class="prism-code language-kotlin codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">class CloudStarterApplication {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    var logger: Logger = LoggerFactory.getLogger(javaClass)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @ZeebeWorker(type = &quot;get-time&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    fun handleGetTime(client: JobClient, job: ActivatedJob) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        logger.info(job.toString())</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        client.newCompleteCommand(job.getKey())</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                .send().join()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Run the worker program with the command: <code>mvn spring-boot:run</code>.</li></ul><p>You will see output similar to:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">2020-06-29 09:33:40.420  INFO 5801 --- [ault-executor-1] io.zeebe.client.job.poller               : Activated 1 jobs for worker whatever and job type get-time</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">2020-06-29 09:33:40.437  INFO 5801 --- [pool-2-thread-1] i.c.c.CloudStarterApplication            : {&quot;key&quot;:2251799813698319,&quot;type&quot;:&quot;get-time&quot;,&quot;customHeaders&quot;:{},&quot;workflowInstanceKey&quot;:2251799813698314,&quot;bpmnProcessId&quot;:&quot;test-process&quot;,&quot;workflowDefinitionVersion&quot;:1,&quot;workflowKey&quot;:2251799813685249,&quot;elementId&quot;:&quot;Activity_1ucrvca&quot;,&quot;elementInstanceKey&quot;:2251799813698318,&quot;worker&quot;:&quot;whatever&quot;,&quot;retries&quot;:3,&quot;deadline&quot;:1593380320176,&quot;variables&quot;:&quot;{}&quot;,&quot;variablesAsMap&quot;:{}}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Go back to Operate. You will see that the workflow instance is gone.</li><li>Click on &quot;Running Instances&quot;.</li><li>In the filter on the left, select &quot;<em>Finished Instances</em>&quot;.</li></ul><p>You will see the completed workflow instance.</p></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/AOj64vzEZ_8?t=1244" target="_blank" rel="noopener noreferrer">Video Link</a></p><p>We will create a worker program that logs out the job metadata, and completes the job with success.</p><ul><li>Create a new file <code>src/worker.ts</code>.</li><li>Edit the file to look like this:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly typescript"><div tabindex="0" class="prism-code language-typescript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">ZBClient</span><span class="token imports"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;zeebe-node&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">require</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;dotenv&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> zbc </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:rgb(255, 203, 107)">ZBClient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> worker </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> zbc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">createWorker</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;get-time&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">job</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> complete</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">job</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  complete</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">success</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Run the worker program with the command: <code>ts-node src/worker.ts</code>.</li></ul><p>You will see output similar to:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><div tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;key&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;2251799813688447&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;type&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;get-time&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;workflowInstanceKey&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;2251799813688442&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;bpmnProcessId&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;test-process&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;workflowDefinitionVersion&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;workflowKey&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;2251799813687791&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;elementId&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Activity_18gdgop&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;elementInstanceKey&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;2251799813688446&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;customHeaders&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;worker&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;get-time&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;retries&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;deadline&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;1592750237366&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;variables&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Go back to Operate. You will see that the workflow instance is gone.</li><li>Click on &quot;Running Instances&quot;.</li><li>In the filter on the left, select &quot;<em>Finished Instances</em>&quot;.</li></ul><p>You will see the completed workflow instance.</p></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="create-and-await-the-outcome-of-a-workflow-instance"></a>Create and Await the Outcome of a Workflow Instance<a class="hash-link" href="#create-and-await-the-outcome-of-a-workflow-instance" title="Direct link to heading">#</a></h2><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">C# / ASP.NET Core 3</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Go</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java + Spring</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Kotlin + Spring</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">NodeJS</li></ul><div class="margin-vert--md"><div role="tabpanel"><p><a href="https://youtu.be/a-0BtrRY4M4?t=2428" target="_blank" rel="noopener noreferrer">Video link</a></p><p>We will now create the workflow instance, and get the final outcome in the calling code.</p><ul><li>Edit the <code>ZeebeService.cs</code> file, and edit the <code>StartWorkflowInstance</code> method, to make it look like this:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly c#"><div tabindex="0" class="prism-code language-c# codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public async Task&lt;String&gt; StartWorkflowInstance(string bpmProcessId)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    var instance = await _client.NewCreateWorkflowInstanceCommand()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                .BpmnProcessId(bpmProcessId)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                .LatestVersion()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                .WithResult()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                .Send();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    var jsonParams = new JSONParameters {ShowReadOnlyProperties = true};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return JSON.ToJSON(instance, jsonParams);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li><p>Run the program with the command: <code>dotnet run</code>.</p></li><li><p>Visit <a href="http://localhost:5000/start" target="_blank" rel="noopener noreferrer">http://localhost:5000/start</a> in your browser.</p></li></ul><p>You will see output similar to the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{&quot;$types&quot;:{&quot;Zeebe.Client.Impl.Responses.WorkflowInstanceResultResponse, Client, Version=0.16.1.0, Culture=neutral, PublicKeyToken=null&quot;:&quot;1&quot;},&quot;$type&quot;:&quot;1&quot;,&quot;WorkflowKey&quot;:2251799813686366,&quot;BpmnProcessId&quot;:&quot;test-process&quot;,&quot;Version&quot;:4,&quot;WorkflowInstanceKey&quot;:2251799813686409,&quot;Variables&quot;:&quot;{}&quot;}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/_GQuqEwzWKM?t=1302" target="_blank" rel="noopener noreferrer">Video Link</a></p><p>We will now create the workflow instance, and get the final outcome in the calling code.</p><ul><li>Edit the <code>createStartHandler</code> function in the <code>main.go</code> file, and make the following change:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly go"><div tabindex="0" class="prism-code language-go codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">request</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> err </span><span class="token operator" style="color:rgb(137, 221, 255)">:=</span><span class="token plain"> client</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">NewCreateInstanceCommand</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">BPMNProcessId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;test-process&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">LatestVersion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">WithResult</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">Send</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ...</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li><p>Run the program with the command: <code>go run main.go</code>.</p></li><li><p>Visit <a href="http://localhost:3000/start" target="_blank" rel="noopener noreferrer">http://localhost:3000/start</a> in your browser.</p></li></ul><p>You will see output similar to the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">workflowKey:2251799813685249 bpmnProcessId:&quot;test-process&quot; version:1 workflowInstanceKey:2251799813689873 variables:&quot;{}&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div><div role="tabpanel" hidden=""></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/7vBxJmXD3Js?t=1616" target="_blank" rel="noopener noreferrer">Video Link</a></p><p>We will now create the workflow instance, and get the final outcome in the calling code.</p><ul><li>Edit the <code>src/main/java/io.camunda/CloudStarterApplication.java</code> file, and edit the <code>startWorkflowInstance</code> method,
to make it look like this:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><div tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public class CloudStarterApplication {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @GetMapping(&quot;/start&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public String startWorkflowInstance() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        WorkflowInstanceResult workflowInstanceResult = client</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            .newCreateInstanceCommand()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            .bpmnProcessId(&quot;test-process&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            .latestVersion()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            .withResult()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            .send()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            .join();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return workflowInstanceResult.toString();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li><p>Run the program with the command: <code>mvn spring-boot:run</code>.</p></li><li><p>Visit <a href="http://localhost:8080/start" target="_blank" rel="noopener noreferrer">http://localhost:8080/start</a> in your browser.</p></li></ul><p>You will see output similar to the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">CreateWorkflowInstanceWithResultResponseImpl{workflowKey=2251799813685249, bpmnProcessId=&#x27;test-process&#x27;, version=1, workflowInstanceKey=2251799813698527, variables=&#x27;{}&#x27;}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/TFDSv8YAazI?t=1428" target="_blank" rel="noopener noreferrer">Video Link</a></p><p>We will now create the workflow instance, and get the final outcome in the calling code.</p><ul><li>Edit the <code>src/main/kotlin/io.camunda/CloudStarterApplication.kt</code> file, and edit the <code>startWorkflowInstance</code> method,
to make it look like this:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly kotlin"><div tabindex="0" class="prism-code language-kotlin codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">class CloudStarterApplication {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @GetMapping(&quot;/start&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    fun startWorkflowInstance(): String? {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        val workflowInstanceEventWithResult = client!!</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                .newCreateInstanceCommand()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                .bpmnProcessId(&quot;test-process&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                .latestVersion()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                .withResult()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                .send()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                .join()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return workflowInstanceEventWithResult.toString()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li><p>Run the program with the command: <code>mvn spring-boot:run</code>.</p></li><li><p>Visit <a href="http://localhost:8080/start" target="_blank" rel="noopener noreferrer">http://localhost:8080/start</a> in your browser.</p></li></ul><p>You will see output similar to the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">CreateWorkflowInstanceWithResultResponseImpl{workflowKey=2251799813685249, bpmnProcessId=&#x27;test-process&#x27;, version=1, workflowInstanceKey=2251799813698527, variables=&#x27;{}&#x27;}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div><div role="tabpanel" hidden=""><p>We will now create the workflow instance, and get the final outcome in the calling code.</p><ul><li>Keep the worker program running in one terminal.</li><li>Edit the <code>src/app.ts</code> file, and make it look like this:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly typescript"><div tabindex="0" class="prism-code language-typescript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">ZBClient</span><span class="token imports"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;zeebe-node&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports operator" style="color:rgb(137, 221, 255)">*</span><span class="token imports"> </span><span class="token imports keyword" style="font-style:italic">as</span><span class="token imports"> path</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;path&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">require</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;dotenv&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">async</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">main</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> zbc </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:rgb(255, 203, 107)">ZBClient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> file </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">join</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">__dirname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;..&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;bpmn&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;test-process.bpmn&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">await</span><span class="token plain"> zbc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">deployWorkflow</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">file</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> res </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">await</span><span class="token plain"> zbc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">createWorkflowInstanceWithResult</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;test-process&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">res</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">main</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Run the program with the command: <code>ts-node src/app.ts</code>.</li></ul><p>You will see your worker log out the job as it serves it, and your program will produce output similar to the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><div tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;workflowKey&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;2251799813688541&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;bpmnProcessId&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;test-process&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;version&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;workflowInstanceKey&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;2251799813688543&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;variables&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="call-a-rest-service-from-the-worker"></a>Call a REST Service from the Worker<a class="hash-link" href="#call-a-rest-service-from-the-worker" title="Direct link to heading">#</a></h2><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">C# / ASP.NET Core 3</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Go</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java + Spring</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Kotlin + Spring</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">NodeJS</li></ul><div class="margin-vert--md"><div role="tabpanel"><p><a href="https://youtu.be/a-0BtrRY4M4?t=2603" target="_blank" rel="noopener noreferrer">Video link</a></p><p>We are going to make a REST call in the worker handler, to query a remote API for the current GMT time.</p><ul><li>Edit the <code>ZeebeService.cs</code> file, and edit the <code>CreateGetTimeWorker</code> method, to make it look like this:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly c#"><div tabindex="0" class="prism-code language-c# codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public void CreateGetTimeWorker()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    _createWorker(&quot;get-time&quot;, async (client, job) =&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        _logger.LogInformation(&quot;Received job: &quot; + job);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            using (var httpClient = new HttpClient())</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                using (var response = await httpClient.GetAsync(&quot;https://json-api.joshwulf.com/time&quot;))</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    string apiResponse = await response.Content.ReadAsStringAsync();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    await client.NewCompleteJobCommand(job.Key)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                        .Variables(&quot;{\&quot;time\&quot;:&quot; + apiResponse + &quot;}&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                        .Send();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    });</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">// ...</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Run the program with the command: <code>dotnet run</code>.</li><li>Visit <a href="http://localhost:5000/start" target="_blank" rel="noopener noreferrer">http://localhost:5000/start</a> in your browser.</li></ul><p>You will see output similar to the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{&quot;$types&quot;:{&quot;Zeebe.Client.Impl.Responses.WorkflowInstanceResultResponse, Client, Version=0.16.1.0, Culture=neutral, PublicKeyToken=null&quot;:&quot;1&quot;},&quot;$type&quot;:&quot;1&quot;,&quot;WorkflowKey&quot;:2251799813686366,&quot;BpmnProcessId&quot;:&quot;test-process&quot;,&quot;Version&quot;:4,&quot;WorkflowInstanceKey&quot;:2251799813686463,&quot;Variables&quot;:&quot;{\&quot;time\&quot;:{\&quot;time\&quot;:\&quot;Thu, 16 Jul 2020 10:26:13 GMT\&quot;,\&quot;hour\&quot;:10,\&quot;minute\&quot;:26,\&quot;second\&quot;:13,\&quot;day\&quot;:4,\&quot;month\&quot;:6,\&quot;year\&quot;:2020}}&quot;}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/_GQuqEwzWKM?t=1427" target="_blank" rel="noopener noreferrer">Video link</a></p><ul><li>Edit the file <code>main.go</code> and add these structs for the REST response payload and the worker variable payload:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly go"><div tabindex="0" class="prism-code language-go codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">type</span><span class="token plain"> Time </span><span class="token keyword" style="font-style:italic">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Time </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">`json:&quot;time&quot;`</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Hour </span><span class="token builtin" style="color:rgb(130, 170, 255)">int</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">`json:&quot;hour&quot;`</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Minute </span><span class="token builtin" style="color:rgb(130, 170, 255)">int</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">`json:&quot;minute&quot;`</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Second </span><span class="token builtin" style="color:rgb(130, 170, 255)">int</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">`json:&quot;second&quot;`</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Day </span><span class="token builtin" style="color:rgb(130, 170, 255)">int</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">`json:&quot;day&quot;`</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Month </span><span class="token builtin" style="color:rgb(130, 170, 255)">int</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">`json:&quot;month&quot;`</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Year </span><span class="token builtin" style="color:rgb(130, 170, 255)">int</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">`json:&quot;year&quot;`</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">type</span><span class="token plain"> GetTimeCompleteVariables </span><span class="token keyword" style="font-style:italic">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Time Time </span><span class="token string" style="color:rgb(195, 232, 141)">`json:&quot;time&quot;`</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Replace the <code>handleGetTime</code> function in <code>main.go</code> with the following code:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly go"><div tabindex="0" class="prism-code language-go codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">func</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">handleGetTime</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">client worker</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">JobClient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> job entities</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Job</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        data </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token builtin" style="color:rgb(130, 170, 255)">byte</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    response</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> err </span><span class="token operator" style="color:rgb(137, 221, 255)">:=</span><span class="token plain"> http</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">Get</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;https://json-api.joshwulf.com/time&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> err </span><span class="token operator" style="color:rgb(137, 221, 255)">!=</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">nil</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        fmt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">Printf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;The HTTP request failed with error %s\n&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> err</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">_</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> ioutil</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">ReadAll</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">response</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Body</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> time Time</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    err </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> json</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">Unmarshal</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;</span><span class="token plain">time</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> err </span><span class="token operator" style="color:rgb(137, 221, 255)">!=</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">nil</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">Fatalln</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    payload </span><span class="token operator" style="color:rgb(137, 221, 255)">:=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;</span><span class="token plain">GetTimeCompleteVariables</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">time</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ctx </span><span class="token operator" style="color:rgb(137, 221, 255)">:=</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">Background</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    cmd</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">_</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:=</span><span class="token plain"> client</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">NewCompleteJobCommand</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">JobKey</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">job</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Key</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">VariablesFromObject</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">payload</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token boolean" style="color:rgb(255, 88, 116)">_</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> err </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> cmd</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">Send</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> err </span><span class="token operator" style="color:rgb(137, 221, 255)">!=</span><span class="token boolean" style="color:rgb(255, 88, 116)">nil</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">Fatalln</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Run the program with the command: <code>go run main.go</code>.</li><li>Visit <a href="http://localhost:3000/start" target="_blank" rel="noopener noreferrer">http://localhost:3000/start</a> in your browser.</li></ul><p>You will see output similar to the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">workflowKey:2251799813685249 bpmnProcessId:&quot;test-process&quot; version:1 workflowInstanceKey:2251799813693481</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">variables:&quot;{\&quot;time\&quot;:{\&quot;time\&quot;:\&quot;Thu, 30 Jul 2020 13:33:13 GMT\&quot;,\&quot;hour\&quot;:13,\&quot;minute\&quot;:33,\&quot;second\&quot;:13,\&quot;day\&quot;:4,\&quot;month\&quot;:6,\&quot;year\&quot;:2020}}&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div><div role="tabpanel" hidden=""></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/7vBxJmXD3Js?t=1845" target="_blank" rel="noopener noreferrer">Video link</a></p><ul><li>Edit the <code>src/main/java/io.camunda/CloudStarterApplication.java</code> file, and edit the <code>handleGetTime</code> method,
to make it look like this:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><div tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public class CloudStarterApplication {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @ZeebeWorker(type = &quot;get-time&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public void handleGetTime(final JobClient client, final ActivatedJob job) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        final String uri = &quot;https://json-api.joshwulf.com/time&quot;;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        RestTemplate restTemplate = new RestTemplate();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        String result = restTemplate.getForObject(uri, String.class);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        client.newCompleteCommand(job.getKey())</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                .variables(&quot;{\&quot;time\&quot;:&quot; + result + &quot;}&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                .send().join();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Run the program with the command: <code>mvn spring-boot:run</code>.</li><li>Visit <a href="http://localhost:8080/start" target="_blank" rel="noopener noreferrer">http://localhost:8080/start</a> in your browser.</li></ul><p>You will see output similar to the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">CreateWorkflowInstanceWithResultResponseImpl{workflowKey=2251799813685249, bpmnProcessId=&#x27;test-process&#x27;, version=1, workflowInstanceKey=2251799813698527, variables=&#x27;{&quot;time&quot;:{&quot;time&quot;:&quot;Sun, 28 Jun 2020 21:49:48 GMT&quot;,&quot;hour&quot;:21,&quot;minute&quot;:49,&quot;second&quot;:48,&quot;day&quot;:0,&quot;month&quot;:5,&quot;year&quot;:2020}}&#x27;}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/TFDSv8YAazI?t=1470" target="_blank" rel="noopener noreferrer">Video link</a></p><ul><li>Edit the <code>src/main/kotlin/io.camunda/CloudStarterApplication.kt</code> file, and edit the <code>handleGetTime</code> method,
to make it look like this:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly kotlin"><div tabindex="0" class="prism-code language-kotlin codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">class CloudStarterApplication {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        @ZeebeWorker(type = &quot;get-time&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        fun handleGetTime(client: JobClient, job: ActivatedJob) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            logger.info(job.toString())</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            val uri = &quot;https://json-api.joshwulf.com/time&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            val restTemplate = RestTemplate()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            val result = restTemplate.getForObject(uri, String::class.java)!!</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            client.newCompleteCommand(job.key)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    .variables(&quot;{\&quot;time\&quot;:$result}&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                    .send().join()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Run the program with the command: <code>mvn spring-boot:run</code>.</li><li>Visit <a href="http://localhost:8080/start" target="_blank" rel="noopener noreferrer">http://localhost:8080/start</a> in your browser.</li></ul><p>You will see output similar to the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">CreateWorkflowInstanceWithResultResponseImpl{workflowKey=2251799813685249, bpmnProcessId=&#x27;test-process&#x27;, version=1, workflowInstanceKey=2251799813698527, variables=&#x27;{&quot;time&quot;:{&quot;time&quot;:&quot;Sun, 28 Jun 2020 21:49:48 GMT&quot;,&quot;hour&quot;:21,&quot;minute&quot;:49,&quot;second&quot;:48,&quot;day&quot;:0,&quot;month&quot;:5,&quot;year&quot;:2020}}&#x27;}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/AOj64vzEZ_8?t=1426" target="_blank" rel="noopener noreferrer">Video link</a></p><ul><li>Stop the worker program.</li><li>Install the <code>got</code> package to your project:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> i got</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Edit the file <code>src/worker.ts</code>, and make it look like this:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly typescript"><div tabindex="0" class="prism-code language-typescript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">ZBClient</span><span class="token imports"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;zeebe-node&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports">got</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;got&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">require</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;dotenv&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> zbc </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:rgb(255, 203, 107)">ZBClient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> url </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;https://json-api.joshwulf.com/time&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> worker </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> zbc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">createWorker</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;get-time&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">async</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">job</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> complete</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> time </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">await</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">got</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">url</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">json</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">time</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  complete</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">success</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> time </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Run the worker program with the command: <code>ts-node src/worker.ts</code></li><li>In another terminal, run the program with the command: <code>ts-node src/app.ts</code></li></ul><p>You will see output similar to the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly json"><div tabindex="0" class="prism-code language-json codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;workflowKey&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;2251799813688541&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;bpmnProcessId&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;test-process&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;version&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;workflowInstanceKey&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;2251799813688598&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token property">&quot;variables&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;time&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;time&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Sun, 21 Jun 2020 15:08:22 GMT&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;hour&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">15</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;minute&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">8</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;second&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">22</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;day&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;month&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">5</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;year&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2020</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="make-a-decision"></a>Make a Decision<a class="hash-link" href="#make-a-decision" title="Direct link to heading">#</a></h2><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">C# / ASP.NET Core 3</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Go</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java + Spring</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Kotlin + Spring</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">NodeJS</li></ul><div class="margin-vert--md"><div role="tabpanel"><p><a href="https://youtu.be/a-0BtrRY4M4?t=2722" target="_blank" rel="noopener noreferrer">Video link</a></p></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/_GQuqEwzWKM?t=1613" target="_blank" rel="noopener noreferrer">Video link</a></p></div><div role="tabpanel" hidden=""></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/7vBxJmXD3Js?t=2066" target="_blank" rel="noopener noreferrer">Video link</a></p></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/TFDSv8YAazI?t=1608" target="_blank" rel="noopener noreferrer">Video link</a></p></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/AOj64vzEZ_8?t=1781" target="_blank" rel="noopener noreferrer">Video link</a></p></div></div></div><p>We will edit the model to add a Conditional Gateway.</p><ul><li>Open the BPMN model file <code>bpmn/test-process.bpmn</code> in the Zeebe Modeler.</li><li>Drop a Gateway between the Service Task and the End event.</li><li>Add two Service Tasks after the Gateway.</li><li>In one, set the <em>Name</em> to <code>Before noon</code> and the <em>Type</em> to <code>make-greeting</code>.</li><li>Switch to the <em>Headers</em> tab on that Task, and create a new Key <code>greeting</code> with the Value <code>Good morning</code>.</li><li>In the second, set the <em>Name</em> to <code>After noon</code> and the <em>Type</em> to <code>make-greeting</code>.</li><li>Switch to the <em>Headers</em> tab on that Task, and create a new Key <code>greeting</code> with the Value <code>Good afternoon</code>.</li><li>Click on the arrow connecting the Gateway to the <em>Before noon</em> task.</li><li>Under <em>Details</em> enter the following in <em>Condition expression</em>:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">=time.hour &gt;=0 and time.hour &lt;=11</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Click on the arrow connecting the Gateway to the <em>After noon</em> task.</li><li>Click the spanner/wrench icon and select &quot;Default Flow&quot;.</li><li>Connect both Service Tasks to the End Event.</li></ul><p>It should look like this:</p><p><img src="/assets/images/gettingstarted_second-model-f27032ca1bfccb14a68c4859ca6c82b3.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="create-a-worker-that-acts-based-on-custom-headers"></a>Create a Worker that acts based on Custom Headers<a class="hash-link" href="#create-a-worker-that-acts-based-on-custom-headers" title="Direct link to heading">#</a></h2><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">C# / ASP.NET Core 3</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Go</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Java + Spring</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Kotlin + Spring</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">NodeJS</li></ul><div class="margin-vert--md"><div role="tabpanel"><p><a href="https://youtu.be/a-0BtrRY4M4?t=2973" target="_blank" rel="noopener noreferrer">Video link</a></p><p>We will create a second worker that combines the value of a custom header with the value of a variable in the workflow.</p><ul><li>Edit the <code>ZeebeService.cs</code> file and create a couple of DTO classes to aid with deserialization of the job:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly c#"><div tabindex="0" class="prism-code language-c# codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">public class MakeGreetingCustomHeadersDTO</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public string greeting { get; set; }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public class MakeGreetingVariablesDTO</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public string name { get; set; }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>In the same file, create a <code>CreateMakeGreetingWorker</code> method:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly c#"><div tabindex="0" class="prism-code language-c# codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain"> public void CreateMakeGreetingWorker()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    _createWorker(&quot;make-greeting&quot;, async (client, job) =&gt;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        _logger.LogInformation(&quot;Make Greeting Received job: &quot; + job);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        var headers = JSON.ToObject&lt;MakeGreetingCustomHeadersDTO&gt;(job.CustomHeaders);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        var variables = JSON.ToObject&lt;MakeGreetingVariablesDTO&gt;(job.Variables);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        string greeting = headers.greeting;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        string name = variables.name;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        await client.NewCompleteJobCommand(job.Key)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            .Variables(&quot;{\&quot;say\&quot;: \&quot;&quot; + greeting + &quot; &quot; + name + &quot;\&quot;}&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            .Send();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        _logger.LogInformation(&quot;Make Greeting Worker completed job&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    });</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Now call this method in the <code>StartWorkers</code> method of the <code>ZeebeService</code>:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly c#"><div tabindex="0" class="prism-code language-c# codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">public void StartWorkers()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    CreateGetTimeWorker();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    CreateMakeGreetingWorker();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Edit the <code>startWorkflowInstance</code> method, and pass in a variable <code>name</code> when you create the workflow:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly c#"><div tabindex="0" class="prism-code language-c# codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public async Task&lt;String&gt; StartWorkflowInstance(string bpmProcessId)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    var instance = await _client.NewCreateWorkflowInstanceCommand()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        .BpmnProcessId(bpmProcessId)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        .LatestVersion()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        .Variables(&quot;{\&quot;name\&quot;: \&quot;Josh Wulf\&quot;}&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        .WithResult()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        .Send();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    var jsonParams = new JSONParameters {ShowReadOnlyProperties = true};</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    return JSON.ToJSON(instance, jsonParams);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>You can change the variable <code>name</code> value to your own name (or derive it from the url path or a parameter).</p><ul><li>Run the program with the command: <code>dotnet run</code>.</li><li>Visit <a href="http://localhost:5000/start" target="_blank" rel="noopener noreferrer">http://localhost:5000/start</a> in your browser.</li></ul><p>You will see output similar to the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{&quot;$types&quot;:{&quot;Zeebe.Client.Impl.Responses.WorkflowInstanceResultResponse, Client, Version=0.16.1.0, Culture=neutral, PublicKeyToken=null&quot;:&quot;1&quot;},&quot;$type&quot;:&quot;1&quot;,&quot;WorkflowKey&quot;:2251799813686683,&quot;BpmnProcessId&quot;:&quot;test-process&quot;,&quot;Version&quot;:5,&quot;WorkflowInstanceKey&quot;:2251799813687157,&quot;Variables&quot;:&quot;{\&quot;say\&quot;:\&quot;Good Afternoon Josh Wulf\&quot;,\&quot;name\&quot;:\&quot;Josh Wulf\&quot;,\&quot;time\&quot;:{\&quot;time\&quot;:\&quot;Thu, 16 Jul 2020 12:45:33 GMT\&quot;,\&quot;hour\&quot;:12,\&quot;minute\&quot;:45,\&quot;second\&quot;:33,\&quot;day\&quot;:4,\&quot;month\&quot;:6,\&quot;year\&quot;:2020}}&quot;}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/_GQuqEwzWKM?t=1931" target="_blank" rel="noopener noreferrer">Video link</a></p><p>We will create a second worker that takes the custom header and applies it to the variables in the workflow.</p><ul><li>Edit the <code>main.go</code> file, and add structs for the new worker&#x27;s request and response payloads:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly go"><div tabindex="0" class="prism-code language-go codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">type</span><span class="token plain"> MakeGreetingCompleteVariables </span><span class="token keyword" style="font-style:italic">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Say </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">`json:&quot;say&quot;`</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">type</span><span class="token plain"> MakeGreetingCustomHeaders </span><span class="token keyword" style="font-style:italic">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Greeting </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">`json:&quot;greeting&quot;`</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">type</span><span class="token plain"> MakeGreetingJobVariables </span><span class="token keyword" style="font-style:italic">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Name </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">`json:&quot;name&quot;`</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Create the <code>handleMakeGreeting</code> method in <code>main.go</code>:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly go"><div tabindex="0" class="prism-code language-go codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">func</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">handleMakeGreeting</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">client worker</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">JobClient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> job entities</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Job</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    variables</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">_</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:=</span><span class="token plain"> job</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">GetVariablesAsMap</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    name </span><span class="token operator" style="color:rgb(137, 221, 255)">:=</span><span class="token plain"> variables</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;name&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> headers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">_</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> job</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">GetCustomHeadersAsMap</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    greeting </span><span class="token operator" style="color:rgb(137, 221, 255)">:=</span><span class="token plain"> headers</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;greeting&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    greetingString </span><span class="token operator" style="color:rgb(137, 221, 255)">:=</span><span class="token plain"> greeting </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot; &quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    say </span><span class="token operator" style="color:rgb(137, 221, 255)">:=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;</span><span class="token plain">MakeGreetingCompleteVariables</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain">greetingString</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">Println</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">say</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ctx </span><span class="token operator" style="color:rgb(137, 221, 255)">:=</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">Background</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    response</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">_</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:=</span><span class="token plain"> client</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">NewCompleteJobCommand</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">JobKey</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">job</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Key</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">VariablesFromObject</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">say</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    response</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">Send</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Edit the <code>main</code> function and create a worker:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly go"><div tabindex="0" class="prism-code language-go codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ...</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">go</span><span class="token plain"> zbClient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">NewJobWorker</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">JobType</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;make-greeting&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">Handler</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">handleMakeGreeting</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">Open</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">...</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Edit the <code>startWorkflowInstance</code> method, and make it look like this:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly go"><div tabindex="0" class="prism-code language-go codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">type</span><span class="token plain"> InitialVariables </span><span class="token keyword" style="font-style:italic">struct</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    Name </span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">`json:&quot;name&quot;`</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">func</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">createStartHandler</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">client zbc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Client</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> BoundHandler </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    f </span><span class="token operator" style="color:rgb(137, 221, 255)">:=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">func</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">w http</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">ResponseWriter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> r </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> http</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Request</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        variables </span><span class="token operator" style="color:rgb(137, 221, 255)">:=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;</span><span class="token plain">InitialVariables</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Josh Wulf&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        ctx </span><span class="token operator" style="color:rgb(137, 221, 255)">:=</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">Background</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        request</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> err </span><span class="token operator" style="color:rgb(137, 221, 255)">:=</span><span class="token plain"> client</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">NewCreateInstanceCommand</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">BPMNProcessId</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;test-process&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">LatestVersion</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">VariablesFromObject</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">variables</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> err </span><span class="token operator" style="color:rgb(137, 221, 255)">!=</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">nil</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token function" style="color:rgb(130, 170, 255)">panic</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        response</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">_</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:=</span><span class="token plain"> request</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">WithResult</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">Send</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">var</span><span class="token plain"> result </span><span class="token keyword" style="font-style:italic">map</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token builtin" style="color:rgb(130, 170, 255)">string</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token keyword" style="font-style:italic">interface</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        json</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">Unmarshal</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token function" style="color:rgb(130, 170, 255)">byte</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">response</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">Variables</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;</span><span class="token plain">result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        fmt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">Fprint</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">w</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> result</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;say&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> f</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>You can change the variable value to your own name (or derive it from the url path or a parameter).</p><ul><li>Run the program with the command: <code>go run main</code>.</li><li>Visit <a href="http://localhost:3000/start" target="_blank" rel="noopener noreferrer">http://localhost:3000/start</a> in your browser.</li></ul><p>You will see output similar to the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Good Morning Josh Wulf</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div><div role="tabpanel" hidden=""></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/7vBxJmXD3Js?t=2399" target="_blank" rel="noopener noreferrer">Video link</a></p><p>We will create a second worker that takes the custom header and applies it to the variables in the workflow.</p><ul><li>Edit the <code>src/main/java/io.camunda/CloudStarterApplication.java</code> file, and add the <code>handleMakeGreeting</code> method,
to make it look like this:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><div tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public class CloudStarterApplication {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @ZeebeWorker(type = &quot;make-greeting&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public void handleMakeGreeting(final JobClient client, final ActivatedJob job) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        Map&lt;String, String&gt; headers = job.getCustomHeaders();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        String greeting = headers.getOrDefault(&quot;greeting&quot;, &quot;Good day&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        Map&lt;String, Object&gt; variablesAsMap = job.getVariablesAsMap();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        String name = (String) variablesAsMap.getOrDefault(&quot;name&quot;, &quot;there&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        String say = greeting + &quot; &quot; + name;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        client.newCompleteCommand(job.getKey())</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                .variables(&quot;{\&quot;say\&quot;: \&quot;&quot; + say + &quot;\&quot;}&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                .send().join();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Edit the <code>startWorkflowInstance</code> method, and make it look like this:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><div tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">public class CloudStarterApplication {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @GetMapping(&quot;/start&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    public String startWorkflowInstance() {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        WorkflowInstanceResult workflowInstanceResult = client</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                .newCreateInstanceCommand()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                .bpmnProcessId(&quot;test-process&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                .latestVersion()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                .variables(&quot;{\&quot;name\&quot;: \&quot;Josh Wulf\&quot;}&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                .withResult()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                .send()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                .join();</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return (String) workflowInstanceResult</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                .getVariablesAsMap()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                .getOrDefault(&quot;say&quot;, &quot;Error: No greeting returned&quot;);</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>You can change the variable <code>name</code> value to your own name (or derive it from the url path or a parameter).</p><ul><li>Run the program with the command: <code>mvn spring-boot:run</code>.</li><li>Visit <a href="http://localhost:8080/start" target="_blank" rel="noopener noreferrer">http://localhost:8080/start</a> in your browser.</li></ul><p>You will see output similar to the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Good Morning Josh Wulf</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/TFDSv8YAazI?t=2080" target="_blank" rel="noopener noreferrer">Video link</a></p><p>We will create a second worker that takes the custom header and applies it to the variables in the workflow.</p><ul><li>Edit the <code>src/main/kotlin/io.camunda/CloudStarterApplication.kt</code> file, and add the <code>handleMakeGreeting</code> method,
to make it look like this:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly kotlin"><div tabindex="0" class="prism-code language-kotlin codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">class CloudStarterApplication {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @ZeebeWorker(type = &quot;make-greeting&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    fun handleMakeGreeting(client: JobClient, job: ActivatedJob) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        val headers = job.customHeaders</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        val greeting = headers.getOrDefault(&quot;greeting&quot;, &quot;Good day&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        val variablesAsMap = job.variablesAsMap</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        val name = variablesAsMap.getOrDefault(&quot;name&quot;, &quot;there&quot;) as String</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        val say = &quot;$greeting $name&quot;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        client.newCompleteCommand(job.key)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                .variables(&quot;{\&quot;say\&quot;: \&quot;$say\&quot;}&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                .send().join()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Edit the <code>startWorkflowInstance</code> method, and make it look like this:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly kotlin"><div tabindex="0" class="prism-code language-kotlin codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">// ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">class CloudStarterApplication {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    // ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    @GetMapping(&quot;/start&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    fun startWorkflowInstance(): String? {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        val workflowInstanceResult = client!!</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                .newCreateInstanceCommand()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                .bpmnProcessId(&quot;test-process&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                .latestVersion()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                .variables(&quot;{\&quot;name\&quot;: \&quot;Josh Wulf\&quot;}&quot;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                .withResult()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                .send()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                .join()</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        return workflowInstanceResult</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                .variablesAsMap</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                .getOrDefault(&quot;say&quot;, &quot;Error: No greeting returned&quot;) as String?</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>You can change the variable <code>name</code> value to your own name (or derive it from the url path or a parameter).</p><ul><li>Run the program with the command: <code>mvn spring-boot:run</code>.</li><li>Visit <a href="http://localhost:8080/start" target="_blank" rel="noopener noreferrer">http://localhost:8080/start</a> in your browser.</li></ul><p>You will see output similar to the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Good Morning Josh Wulf</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div><div role="tabpanel" hidden=""><p><a href="https://youtu.be/AOj64vzEZ_8?t=2081" target="_blank" rel="noopener noreferrer">Video link</a></p><p>We will create a second worker that takes the custom header and applies it to the variables in the workflow.</p><ul><li>Stop the worker running.</li><li>Edit the file <code>src/worker.ts</code>, and make it look like this:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly typescript"><div tabindex="0" class="prism-code language-typescript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">ZBClient</span><span class="token imports"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;zeebe-node&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports">got</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;got&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">require</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;dotenv&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> zbc </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:rgb(255, 203, 107)">ZBClient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> url </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;https://json-api.joshwulf.com/time&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> worker </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> zbc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">createWorker</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;get-time&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">async</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">job</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> complete</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> time </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">await</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">got</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">url</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">json</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">time</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  complete</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">success</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> time </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> greetingWorker </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> zbc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">createWorker</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;make-greeting&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">job</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> complete</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> name </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> job</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">variables</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"> greeting </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> job</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">customHeaders</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  complete</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">success</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    say</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation">greeting</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string string" style="color:rgb(195, 232, 141)"> </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">${</span><span class="token template-string interpolation">name</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Edit the file <code>src/app.ts</code>, and make it look like this:</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly typescript"><div tabindex="0" class="prism-code language-typescript codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">ZBClient</span><span class="token imports"> </span><span class="token imports punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;zeebe-node&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">import</span><span class="token plain"> </span><span class="token imports operator" style="color:rgb(137, 221, 255)">*</span><span class="token imports"> </span><span class="token imports keyword" style="font-style:italic">as</span><span class="token imports"> path</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;path&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">require</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;dotenv&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">config</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">async</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">main</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> zbc </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">new</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:rgb(255, 203, 107)">ZBClient</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> file </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> path</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">join</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">__dirname</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;..&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;bpmn&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;test-process.bpmn&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">await</span><span class="token plain"> zbc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">deployWorkflow</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">file</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> res </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">await</span><span class="token plain"> zbc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">createWorkflowInstanceWithResult</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;test-process&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    name</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Josh Wulf&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token console class-name" style="color:rgb(255, 203, 107)">console</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method function property-access" style="color:rgb(130, 170, 255)">log</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Process Instance (Complete)&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> res</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">variables</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token property-access">say</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">main</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><ul><li>Start the workers with the command: <code>ts-node src/worker.ts</code></li><li>Start the app with the command: <code>ts-node src/app.ts</code></li></ul><p>You will see output similar to the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">06:17:42.273 | zeebe |  INFO: Authenticating client with Camunda Cloud...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">06:17:45.039 | zeebe |  INFO: Established encrypted connection to Camunda Cloud.</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Process Instance (Complete) Good Afternoon Josh Wulf</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="profit"></a>Profit!<a class="hash-link" href="#profit" title="Direct link to heading">#</a></h2><p>Congratulations. You&#x27;ve completed the Getting Started Guide for Camunda Cloud.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/camunda-cloud/camunda-cloud-documentation/edit/master/versioned_docs/version-0.26/guides/setting-up-development-project.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/0.26/guides/getting-started/monitor-your-process-in-operate"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Monitor your process in Operate</div></a></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisites" class="table-of-contents__link">Prerequisites</a></li><li><a href="#scaffolding-the-project" class="table-of-contents__link">Scaffolding the project</a></li><li><a href="#create-camunda-cloud-cluster" class="table-of-contents__link">Create Camunda Cloud cluster</a></li><li><a href="#configure-connection" class="table-of-contents__link">Configure connection</a></li><li><a href="#test-connection-with-camunda-cloud" class="table-of-contents__link">Test Connection with Camunda Cloud</a></li><li><a href="#create-a-bpmn-model" class="table-of-contents__link">Create a BPMN model</a></li><li><a href="#deploy-the-bpmn-model-to-camunda-cloud" class="table-of-contents__link">Deploy the BPMN model to Camunda Cloud</a></li><li><a href="#start-a-workflow-instance" class="table-of-contents__link">Start a Workflow Instance</a></li><li><a href="#view-a-workflow-instance-in-operate" class="table-of-contents__link">View a Workflow Instance in Operate</a></li><li><a href="#create-a-job-worker" class="table-of-contents__link">Create a Job Worker</a></li><li><a href="#create-and-await-the-outcome-of-a-workflow-instance" class="table-of-contents__link">Create and Await the Outcome of a Workflow Instance</a></li><li><a href="#call-a-rest-service-from-the-worker" class="table-of-contents__link">Call a REST Service from the Worker</a></li><li><a href="#make-a-decision" class="table-of-contents__link">Make a Decision</a></li><li><a href="#create-a-worker-that-acts-based-on-custom-headers" class="table-of-contents__link">Create a Worker that acts based on Custom Headers</a></li><li><a href="#profit" class="table-of-contents__link">Profit!</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/guides">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/reference/licenses">Licenses</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/reference/notices">Notices</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/reference/release-policy">Release cycle</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://zeebe-io.slack.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack</a></li><li class="footer__item"><a href="https://twitter.com/camunda" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://github.com/camunda-cloud/camunda-cloud-documentation" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/contact">Contact</a></li><li class="footer__item"><a href="https://camunda.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Cloud Console</a></li><li class="footer__item"><a href="https://zeebe.io/blog/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li><li class="footer__item"><a href="https://camunda.com/legal/privacy/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy Statement</a></li><li class="footer__item"><a class="osano-footer-link-docu" href="#" onclick='Osano.cm.showDrawer("osano-cm-dom-info-dialog-open")'>Cookie Preferences</a></li></ul></div></div><div class="text--center"><div class="margin-bottom--sm"><a href="https://camunda.com" target="_blank" rel="noopener noreferrer" class="footerLogoLink_qW4Z"><img class="footer__logo" alt="Camunda.com" src="/img/logo-light.svg"></a></div><div>Copyright © 2021 Camunda</div></div></div></footer></div>
<script src="/assets/js/runtime~main.ae87c081.js"></script>
<script src="/assets/js/main.205979fd.js"></script>
</body>
</html>