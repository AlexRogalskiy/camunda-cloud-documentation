(self.webpackChunkcamunda_cloud_documentation=self.webpackChunkcamunda_cloud_documentation||[]).push([[84731],{3905:function(e,n,t){"use strict";t.d(n,{Zo:function(){return d},kt:function(){return m}});var r=t(67294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var c=r.createContext({}),l=function(e){var n=r.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},d=function(e){var n=l(e.components);return r.createElement(c.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},p=r.forwardRef((function(e,n){var t=e.components,i=e.mdxType,a=e.originalType,c=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),p=l(t),m=i,h=p["".concat(c,".").concat(m)]||p[m]||u[m]||a;return t?r.createElement(h,o(o({ref:n},d),{},{components:t})):r.createElement(h,o({ref:n},d))}));function m(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var a=t.length,o=new Array(a);o[0]=p;var s={};for(var c in n)hasOwnProperty.call(n,c)&&(s[c]=n[c]);s.originalType=e,s.mdxType="string"==typeof e?e:i,o[1]=s;for(var l=2;l<a;l++)o[l]=t[l];return r.createElement.apply(null,o)}return r.createElement.apply(null,t)}p.displayName="MDXCreateElement"},76456:function(e,n,t){"use strict";t.r(n),t.d(n,{frontMatter:function(){return o},contentTitle:function(){return s},metadata:function(){return c},toc:function(){return l},default:function(){return u}});var r=t(22122),i=t(19756),a=(t(67294),t(3905)),o={id:"incidents",title:"Incidents"},s=void 0,c={unversionedId:"product-manuals/concepts/incidents",id:"product-manuals/concepts/incidents",isDocsHomePage:!1,title:"Incidents",description:"In Camunda Cloud, an incident represents a problem in a process execution. That means a process instance is stuck at some point and it needs a user interaction to resolve the problem.",source:"@site/docs/product-manuals/concepts/incidents.md",sourceDirName:"product-manuals/concepts",slug:"/product-manuals/concepts/incidents",permalink:"/docs/product-manuals/concepts/incidents",editUrl:"https://github.com/camunda-cloud/camunda-cloud-documentation/edit/master/docs/product-manuals/concepts/incidents.md",version:"current",frontMatter:{id:"incidents",title:"Incidents"},sidebar:"Product Manuals",previous:{title:"Messages",permalink:"/docs/product-manuals/concepts/messages"},next:{title:"Variables",permalink:"/docs/product-manuals/concepts/variables"}},l=[{value:"Resolving",id:"resolving",children:[{value:"Resolving a job-related incident",id:"resolving-a-job-related-incident",children:[]},{value:"Resolving a process instance-related incident",id:"resolving-a-process-instance-related-incident",children:[]}]}],d={toc:l};function u(e){var n=e.components,t=(0,i.Z)(e,["components"]);return(0,a.kt)("wrapper",(0,r.Z)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"In Camunda Cloud, an incident represents a problem in a process execution. That means a process instance is stuck at some point and it needs a user interaction to resolve the problem."),(0,a.kt)("p",null,"Incidents are created in different situations, for example, when"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"a job is failed and it has no more retries left"),(0,a.kt)("li",{parentName:"ul"},"an input or output variable mapping can't be applied"),(0,a.kt)("li",{parentName:"ul"},"a condition can't be evaluated")),(0,a.kt)("p",null,"Note that incidents are not created when an unexpected exception (e.g. ",(0,a.kt)("inlineCode",{parentName:"p"},"NullPointerException"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"OutOfMemoyError")," etc.) happens."),(0,a.kt)("h2",{id:"resolving"},"Resolving"),(0,a.kt)("p",null,"In order to resolve an incident, the user must identify and resolve the problem first. Then, the user marks the incident as resolved and thereby triggers to retry process execution. If the problem still exists then a new incident is created."),(0,a.kt)("h3",{id:"resolving-a-job-related-incident"},"Resolving a job-related incident"),(0,a.kt)("p",null,"If a job is failed and it has no more retries left then an incident is created. There can be different reasons why the job is failed, for example, the variables are not in the expected format, or a service is not available (e.g. a database)."),(0,a.kt)("p",null,"In case that it is caused by the variables, the user needs to update the variables of the process instance first. Then, the user needs to increase the remaining retries of the job and mark the incident as resolved. It is recommended to do this in ",(0,a.kt)("a",{parentName:"p",href:"/docs/product-manuals/operate/index"},"Operate"),"."),(0,a.kt)("p",null,"However, it is also possible to do this through the client API. Using the Java client, this could look like:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"client.newSetVariablesCommand(incident.getElementInstanceKey())\n    .variables(NEW_PAYLOAD)\n    .send()\n    .join();\n\nclient.newUpdateRetriesCommand(incident.getJobKey())\n    .retries(3)\n    .send()\n    .join();\n\nclient.newResolveIncidentCommand(incident.getKey())\n    .send()\n    .join();\n")),(0,a.kt)("p",null,"When the incident is resolved then the job can be activated by a worker again."),(0,a.kt)("h3",{id:"resolving-a-process-instance-related-incident"},"Resolving a process instance-related incident"),(0,a.kt)("p",null,"If an incident is created while process execution and it is not related to a job, then it is usually related to the variables of the process instance. For example, an input or output variable mapping can't be applied."),(0,a.kt)("p",null,"To resolve the incident, the user needs to update the variables first and then mark the incident as resolved. It is recommended to do this in ",(0,a.kt)("a",{parentName:"p",href:"/docs/product-manuals/operate/index"},"Operate"),"."),(0,a.kt)("p",null,"Using the Java client, this could look like:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"client.newSetVariablesCommand(incident.getElementInstanceKey())\n    .variables(NEW_VARIABLES)\n    .send()\n    .join();\n\nclient.newResolveIncidentCommand(incident.getKey())\n    .send()\n    .join();\n")),(0,a.kt)("p",null,"When the incident is resolved then the process instance continues."))}u.isMDXComponent=!0}}]);