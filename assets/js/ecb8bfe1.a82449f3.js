(self.webpackChunkcamunda_cloud_documentation=self.webpackChunkcamunda_cloud_documentation||[]).push([[35759],{3905:function(e,t,a){"use strict";a.d(t,{Zo:function(){return u},kt:function(){return m}});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var o=n.createContext({}),p=function(e){var t=n.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},u=function(e){var t=p(e.components);return n.createElement(o.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),d=p(a),m=r,k=d["".concat(o,".").concat(m)]||d[m]||c[m]||i;return a?n.createElement(k,l(l({ref:t},u),{},{components:a})):n.createElement(k,l({ref:t},u))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,l=new Array(i);l[0]=d;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s.mdxType="string"==typeof e?e:r,l[1]=s;for(var p=2;p<i;p++)l[p]=a[p];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},47201:function(e,t,a){"use strict";a.r(t),a.d(t,{frontMatter:function(){return l},contentTitle:function(){return s},metadata:function(){return o},toc:function(){return p},default:function(){return c}});var n=a(22122),r=a(19756),i=(a(67294),a(3905)),l={id:"variables",title:"Variables"},s=void 0,o={unversionedId:"product-manuals/zeebe/reference/variables",id:"version-0.25/product-manuals/zeebe/reference/variables",isDocsHomePage:!1,title:"Variables",description:"Variables are part of a workflow instance and represent the data of the instance. A variable has a name and a JSON value. The visibility of a variable is defined by its variable scope.",source:"@site/versioned_docs/version-0.25/product-manuals/zeebe/reference/variables.md",sourceDirName:"product-manuals/zeebe/reference",slug:"/product-manuals/zeebe/reference/variables",permalink:"/docs/0.25/product-manuals/zeebe/reference/variables",editUrl:"https://github.com/camunda-cloud/camunda-cloud-documentation/edit/master/versioned_docs/version-0.25/product-manuals/zeebe/reference/variables.md",version:"0.25",frontMatter:{id:"variables",title:"Variables"},sidebar:"version-0.25/Product Manuals",previous:{title:"Workflow Lifecycles",permalink:"/docs/0.25/product-manuals/zeebe/reference/workflow-lifecycles"},next:{title:"Expressions",permalink:"/docs/0.25/product-manuals/zeebe/reference/expressions"}},p=[{value:"Variable Names",id:"variable-names",children:[]},{value:"Variable Values",id:"variable-values",children:[]},{value:"Variable Scopes",id:"variable-scopes",children:[{value:"Variable Propagation",id:"variable-propagation",children:[]},{value:"Local Variables",id:"local-variables",children:[]}]},{value:"Input/Output Variable Mappings",id:"inputoutput-variable-mappings",children:[{value:"Input Mappings",id:"input-mappings",children:[]},{value:"Output Mappings",id:"output-mappings",children:[]}]}],u={toc:p};function c(e){var t=e.components,l=(0,r.Z)(e,["components"]);return(0,i.kt)("wrapper",(0,n.Z)({},u,l,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Variables are part of a workflow instance and represent the data of the instance. A variable has a name and a JSON value. The visibility of a variable is defined by its variable scope."),(0,i.kt)("h2",{id:"variable-names"},"Variable Names"),(0,i.kt)("p",null,"The name of a variable can be any alphanumeric string including the ",(0,i.kt)("inlineCode",{parentName:"p"},"_")," symbol. For a combination of words, it is recommended to use the ",(0,i.kt)("inlineCode",{parentName:"p"},"camelCase")," or the ",(0,i.kt)("inlineCode",{parentName:"p"},"snake_case")," format. The ",(0,i.kt)("inlineCode",{parentName:"p"},"kebab-case")," format is not allowed because it contains the operator ",(0,i.kt)("inlineCode",{parentName:"p"},"-"),"."),(0,i.kt)("p",null,"When accessing a variable in an expression, keep in mind that the variable name is case-sensitive."),(0,i.kt)("p",null,"Restrictions of a variable name:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"it may not start with a number"),(0,i.kt)("li",{parentName:"ul"},"it may not contain whitespaces"),(0,i.kt)("li",{parentName:"ul"},"it may not contain an operator (e.g. ",(0,i.kt)("inlineCode",{parentName:"li"},"+"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"-"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"*"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"/"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"="),", ",(0,i.kt)("inlineCode",{parentName:"li"},">"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"?"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"."),")"),(0,i.kt)("li",{parentName:"ul"},"it may not be a literal (e.g. ",(0,i.kt)("inlineCode",{parentName:"li"},"null"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"true"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"false"),") or a keyword (e.g. ",(0,i.kt)("inlineCode",{parentName:"li"},"function"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"if"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"then"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"else"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"for"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"between"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"instance"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"of"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"not"),")")),(0,i.kt)("h2",{id:"variable-values"},"Variable Values"),(0,i.kt)("p",null,"The value of a variable is stored as a ",(0,i.kt)("strong",{parentName:"p"},"JSON")," value. It must have one of the following types:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"String"),(0,i.kt)("li",{parentName:"ul"},"Number"),(0,i.kt)("li",{parentName:"ul"},"Boolean"),(0,i.kt)("li",{parentName:"ul"},"Array"),(0,i.kt)("li",{parentName:"ul"},"Document/Object"),(0,i.kt)("li",{parentName:"ul"},"Null")),(0,i.kt)("h2",{id:"variable-scopes"},"Variable Scopes"),(0,i.kt)("p",null,"Variable scopes define the ",(0,i.kt)("strong",{parentName:"p"},"visibility")," of variables. The root scope is the workflow instance itself. Variables in this scope are visible everywhere in the workflow."),(0,i.kt)("p",null,"When the workflow instance enters a sub process or an activity then a new scope is created. Activities in this scope can see all variables of this and of higher scopes (i.e. parent scopes). But activities outside of this scope can not see the variables which are defined in this scopes."),(0,i.kt)("p",null,"If a variable has the same name as a variable from a higher scope then it covers this variable. Activities in this scope see only the value of this variable and not the one from the higher scope."),(0,i.kt)("p",null,"The scope of a variable is defined when the variable is created. By default, variables are created in the root scope."),(0,i.kt)("p",null,"Example:"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"variable-scopes",src:a(54300).Z})),(0,i.kt)("p",null,"This workflow instance has the following variables:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"a")," and ",(0,i.kt)("inlineCode",{parentName:"li"},"b")," are defined on the root scope and can be seen by ",(0,i.kt)("em",{parentName:"li"},"Task A"),", ",(0,i.kt)("em",{parentName:"li"},"Task B"),", and ",(0,i.kt)("em",{parentName:"li"},"Task C"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"c")," is defined in the sub process scope and can be seen by ",(0,i.kt)("em",{parentName:"li"},"Task A")," and ",(0,i.kt)("em",{parentName:"li"},"Task B"),"."),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"b")," is defined again on the activity scope of ",(0,i.kt)("em",{parentName:"li"},"Task A")," and can be seen only by ",(0,i.kt)("em",{parentName:"li"},"Task A"),". It covers the variable ",(0,i.kt)("inlineCode",{parentName:"li"},"b")," from the root scope.")),(0,i.kt)("h3",{id:"variable-propagation"},"Variable Propagation"),(0,i.kt)("p",null,"When variables are merged into a workflow instance (e.g. on job completion, on message correlation) then each variable is propagated from the scope of the activity to its higher scopes."),(0,i.kt)("p",null,"The propagation ends when a scope contains a variable with the same name. In this case, the variable value is updated."),(0,i.kt)("p",null,"If no scope contains this variable then it is created as a new variable in the root scope."),(0,i.kt)("p",null,"Example:"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"variable-propagation",src:a(36782).Z})),(0,i.kt)("p",null,"The job of ",(0,i.kt)("em",{parentName:"p"},"Task B")," is completed with the variables ",(0,i.kt)("inlineCode",{parentName:"p"},"b"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"c"),", and ",(0,i.kt)("inlineCode",{parentName:"p"},"d"),". The variables ",(0,i.kt)("inlineCode",{parentName:"p"},"b")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"c")," are already defined in higher scopes and are updated with the new values. Variable ",(0,i.kt)("inlineCode",{parentName:"p"},"d")," doesn't exist before and is created in the root scope."),(0,i.kt)("h3",{id:"local-variables"},"Local Variables"),(0,i.kt)("p",null,"In some cases, variables should be set in a given scope, even if they don't exist in this scope before."),(0,i.kt)("p",null,"In order to deactivate the variable propagation, the variables are set as ",(0,i.kt)("em",{parentName:"p"},"local variables"),". That means that the variables are created or updated in the given scope, whether they exist in this scope before or not."),(0,i.kt)("h2",{id:"inputoutput-variable-mappings"},"Input/Output Variable Mappings"),(0,i.kt)("p",null,"Input/output variable mappings can be used to create new variables or customize how variables are merged into the workflow instance."),(0,i.kt)("p",null,"Variable mappings are defined in the workflow as extension elements under ",(0,i.kt)("inlineCode",{parentName:"p"},"ioMapping"),". Every variable mapping has a ",(0,i.kt)("inlineCode",{parentName:"p"},"source")," and a ",(0,i.kt)("inlineCode",{parentName:"p"},"target")," expression."),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"source")," expression defines the ",(0,i.kt)("strong",{parentName:"p"},"value")," of the mapping. Usually, it ",(0,i.kt)("a",{parentName:"p",href:"/docs/0.25/product-manuals/zeebe/reference/expressions#access-variables"},"accesses a variable")," of the workflow instance that holds the value. If the variable or the nested property doesn't exist then an ",(0,i.kt)("a",{parentName:"p",href:"/docs/0.25/product-manuals/zeebe/reference/incidents"},"incident")," is created."),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"target")," expression defines ",(0,i.kt)("strong",{parentName:"p"},"where")," the value of the ",(0,i.kt)("inlineCode",{parentName:"p"},"source")," expression is stored. It can reference a variable by its name or a nested property of a variable. If the variable or the nested property doesn't exist then it is created."),(0,i.kt)("p",null,"Variable mappings are evaluated in the defined order. So, a ",(0,i.kt)("inlineCode",{parentName:"p"},"source")," expression can access the target variable of a previous mapping."),(0,i.kt)("p",null,"Example:"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"variable-mappings",src:a(15360).Z})),(0,i.kt)("details",null,(0,i.kt)("summary",null,"XML representation"),(0,i.kt)("p",null,(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-XML"},'<serviceTask id="collectMoney" name="Collect Money">\n    <extensionElements>\n      <zeebe:ioMapping>\n        <zeebe:input source="= customer.name" target="sender"/>\n        <zeebe:input source="= customer.iban" target="iban"/>\n        <zeebe:input source="= totalPrice" target="price"/>\n        <zeebe:input source="= reference" target="orderId"/>\n        <zeebe:output source="= status" target="paymentStatus"/>\n       </zeebe:ioMapping>\n    </extensionElements>\n</serviceTask>\n')))),(0,i.kt)("h3",{id:"input-mappings"},"Input Mappings"),(0,i.kt)("p",null,"Input mappings can be used to create new variables. They can be defined on service tasks and sub processes."),(0,i.kt)("p",null,"When an input mapping is applied then it creates a new ",(0,i.kt)("strong",{parentName:"p"},"local variable")," in the scope where the mapping is defined."),(0,i.kt)("p",null,"Examples:"),(0,i.kt)("table",null,(0,i.kt)("tr",null,(0,i.kt)("th",null,"Workflow Instance Variables"),(0,i.kt)("th",null,"Input Mappings"),(0,i.kt)("th",null,"New Variables")),(0,i.kt)("tr",null,(0,i.kt)("td",null,(0,i.kt)("pre",null,'orderId: "order-123"')),(0,i.kt)("td",null,(0,i.kt)("pre",null,"source: = orderId target: reference")),(0,i.kt)("td",null,(0,i.kt)("pre",null,'reference: "order-123"'))),(0,i.kt)("tr",null,(0,i.kt)("td",null,(0,i.kt)("pre",null,'customer:{"name": "John"}')),(0,i.kt)("td",null,(0,i.kt)("pre",null,"source: = customer.name target: sender")),(0,i.kt)("td",null,(0,i.kt)("pre",null,'sender: "John"'))),(0,i.kt)("tr",null,(0,i.kt)("td",null,(0,i.kt)("pre",null,'customer: "John" iban: "DE456"')),(0,i.kt)("td",null,(0,i.kt)("pre",null,"source: = customer target: sender.name",(0,i.kt)("p",null,"source: = iban\ntarget: sender.iban"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"  </pre>\n</td>\n<td>\n<pre>\n")),(0,i.kt)("p",null,"sender: ","{",'"name": "John",\n"iban": "DE456"',"}"))))),(0,i.kt)("h3",{id:"output-mappings"},"Output Mappings"),(0,i.kt)("p",null,"Output mappings can be used to customize how job/message variables are merged into the workflow instance. They can be defined on service tasks, receive tasks, message catch events and sub processes."),(0,i.kt)("p",null,"If ",(0,i.kt)("strong",{parentName:"p"},"one or more")," output mappings are defined then the job/message variables are set as ",(0,i.kt)("em",{parentName:"p"},"local variables")," in the scope where the mapping is defined. Then, the output mappings are applied to the variables and create new variables in this scope. The new variables are merged into the parent scope. If there is no mapping for a job/message variable then the variable is not merged."),(0,i.kt)("p",null,"If ",(0,i.kt)("strong",{parentName:"p"},"no")," output mappings are defined then all job/message variables are merged into the workflow instance."),(0,i.kt)("p",null,"In case of a sub process, the behavior is different. There are no job/message variables to be merged. But output mappings can be used to propagate ",(0,i.kt)("em",{parentName:"p"},"local variables")," of the sub process to higher scopes. By default, all ",(0,i.kt)("em",{parentName:"p"},"local variables")," are removed when the scope is left."),(0,i.kt)("p",null,"Examples:"),(0,i.kt)("table",null,(0,i.kt)("tr",null,(0,i.kt)("th",null,"Job/Message Variables"),(0,i.kt)("th",null,"Output Mappings"),(0,i.kt)("th",null,"Workflow Instance Variables")),(0,i.kt)("tr",null,(0,i.kt)("td",null,(0,i.kt)("pre",null,'status: "Ok"')),(0,i.kt)("td",null,(0,i.kt)("pre",null,"source: = status target: paymentStatus")),(0,i.kt)("td",null,(0,i.kt)("pre",null,'paymentStatus: "OK"'))),(0,i.kt)("tr",null,(0,i.kt)("td",null,(0,i.kt)("pre",null,'result: {"status": "Ok", "transactionId": "t-789"}')),(0,i.kt)("td",null,(0,i.kt)("pre",null,"source: = result.status target: paymentStatus",(0,i.kt)("p",null,"source: = result.transactionId\ntarget: transactionId"))),(0,i.kt)("td",null,(0,i.kt)("pre",null,'paymentStatus: "Ok" transactionId: "t-789"'))),(0,i.kt)("tr",null,(0,i.kt)("td",null,(0,i.kt)("pre",null,'status: "Ok" transactionId: "t-789"')),(0,i.kt)("td",null,(0,i.kt)("pre",null,"source: = transactionId target: order.transactionId")),(0,i.kt)("td",null,(0,i.kt)("pre",null,'order: {"transactionId": "t-789"}')))))}c.isMDXComponent=!0},15360:function(e,t,a){"use strict";t.Z=a.p+"assets/images/variable-mappings-606e99f6e234afdaaff4c0f110aa51f9.png"},36782:function(e,t,a){"use strict";t.Z=a.p+"assets/images/variable-propagation-11dfc7b47f6d74b556ac388054a0c260.png"},54300:function(e,t,a){"use strict";t.Z=a.p+"assets/images/variable-scopes-1ea94882bb53cff41ddb558e733594da.png"}}]);