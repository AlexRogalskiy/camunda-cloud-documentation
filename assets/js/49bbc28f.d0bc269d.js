(self.webpackChunkcamunda_cloud_documentation=self.webpackChunkcamunda_cloud_documentation||[]).push([[58947],{3905:function(e,n,t){"use strict";t.d(n,{Zo:function(){return p},kt:function(){return m}});var i=t(67294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n){if(null==e)return{};var t,i,r=function(e,n){if(null==e)return{};var t,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)t=a[i],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)t=a[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var s=i.createContext({}),l=function(e){var n=i.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},p=function(e){var n=l(e.components);return i.createElement(s.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return i.createElement(i.Fragment,{},n)}},u=i.forwardRef((function(e,n){var t=e.components,r=e.mdxType,a=e.originalType,s=e.parentName,p=c(e,["components","mdxType","originalType","parentName"]),u=l(t),m=r,f=u["".concat(s,".").concat(m)]||u[m]||d[m]||a;return t?i.createElement(f,o(o({ref:n},p),{},{components:t})):i.createElement(f,o({ref:n},p))}));function m(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var a=t.length,o=new Array(a);o[0]=u;var c={};for(var s in n)hasOwnProperty.call(n,s)&&(c[s]=n[s]);c.originalType=e,c.mdxType="string"==typeof e?e:r,o[1]=c;for(var l=2;l<a;l++)o[l]=t[l];return i.createElement.apply(null,o)}return i.createElement.apply(null,t)}u.displayName="MDXCreateElement"},15408:function(e,n,t){"use strict";t.r(n),t.d(n,{frontMatter:function(){return o},contentTitle:function(){return c},metadata:function(){return s},toc:function(){return l},default:function(){return d}});var i=t(22122),r=t(19756),a=(t(67294),t(3905)),o={id:"incidents",title:"Incidents"},c=void 0,s={unversionedId:"components/concepts/incidents",id:"components/concepts/incidents",isDocsHomePage:!1,title:"Incidents",description:"In Camunda Cloud, an incident represents a problem in process execution. This means a process instance is stuck at a particular point, and requires user interaction to resolve the problem.",source:"@site/docs/components/concepts/incidents.md",sourceDirName:"components/concepts",slug:"/components/concepts/incidents",permalink:"/docs/components/concepts/incidents",editUrl:"https://github.com/camunda-cloud/camunda-cloud-documentation/edit/master/docs/components/concepts/incidents.md",version:"current",frontMatter:{id:"incidents",title:"Incidents"},sidebar:"Components",previous:{title:"Messages",permalink:"/docs/components/concepts/messages"},next:{title:"Variables",permalink:"/docs/components/concepts/variables"}},l=[{value:"Resolving",id:"resolving",children:[{value:"Resolving a job-related incident",id:"resolving-a-job-related-incident",children:[]},{value:"Resolving a process instance-related incident",id:"resolving-a-process-instance-related-incident",children:[]}]}],p={toc:l};function d(e){var n=e.components,t=(0,r.Z)(e,["components"]);return(0,a.kt)("wrapper",(0,i.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"In Camunda Cloud, an incident represents a problem in process execution. This means a process instance is stuck at a particular point, and requires user interaction to resolve the problem."),(0,a.kt)("p",null,"Incidents are created in different situations, including the following:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"A job is failed and it has no retries left."),(0,a.kt)("li",{parentName:"ul"},"An input or output variable mapping can't be applied."),(0,a.kt)("li",{parentName:"ul"},"A condition can't be evaluated.")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"NOTE"),": Incidents are not created when an unexpected exception (e.g. ",(0,a.kt)("inlineCode",{parentName:"p"},"NullPointerException"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"OutOfMemoyError")," etc.) occurs."),(0,a.kt)("h2",{id:"resolving"},"Resolving"),(0,a.kt)("p",null,"To resolve an incident, complete the following steps:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Identify and resolve the problem."),(0,a.kt)("li",{parentName:"ol"},"Mark the incident as resolved, triggering retry process execution."),(0,a.kt)("li",{parentName:"ol"},"If the problem still exists, a new incident is created.")),(0,a.kt)("h3",{id:"resolving-a-job-related-incident"},"Resolving a job-related incident"),(0,a.kt)("p",null,"If a job fails and has no retries remaining, an incident is created. There are many different reasons why the job may have failed. For example, the variables may not be in the expected format, or a service is not available (e.g. a database)."),(0,a.kt)("p",null,"If the variables are causing the incident, complete the following steps:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Update the variables of the process instance."),(0,a.kt)("li",{parentName:"ol"},"Increase the remaining retries of the job."),(0,a.kt)("li",{parentName:"ol"},"Mark the incident as resolved. ")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"NOTE"),": It's recommended you complete these tasks in ",(0,a.kt)("a",{parentName:"p",href:"/docs/components/operate/index"},"Operate"),"."),(0,a.kt)("p",null,"It is also possible to complete these steps via the client API. Using the Java client, this could look like the following:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"client.newSetVariablesCommand(incident.getElementInstanceKey())\n    .variables(NEW_PAYLOAD)\n    .send()\n    .join();\n\nclient.newUpdateRetriesCommand(incident.getJobKey())\n    .retries(3)\n    .send()\n    .join();\n\nclient.newResolveIncidentCommand(incident.getKey())\n    .send()\n    .join();\n")),(0,a.kt)("p",null,"When the incident is resolved, the job can be activated by a worker again."),(0,a.kt)("h3",{id:"resolving-a-process-instance-related-incident"},"Resolving a process instance-related incident"),(0,a.kt)("p",null,"If an incident is created during process execution and it's not related to a job, the incident is usually related to the variables of the process instance. For example, an input or output variable mapping can't be applied."),(0,a.kt)("p",null,"To resolve the incident, update the variables and mark the incident as resolved."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"NOTE"),": It's recommended you complete these tasks in ",(0,a.kt)("a",{parentName:"p",href:"/docs/components/operate/index"},"Operate"),"."),(0,a.kt)("p",null,"Using the Java client, this could look like the following:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-java"},"client.newSetVariablesCommand(incident.getElementInstanceKey())\n    .variables(NEW_VARIABLES)\n    .send()\n    .join();\n\nclient.newResolveIncidentCommand(incident.getKey())\n    .send()\n    .join();\n")),(0,a.kt)("p",null,"When the incident is resolved, the process instance continues."))}d.isMDXComponent=!0}}]);