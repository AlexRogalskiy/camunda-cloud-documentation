(self.webpackChunkcamunda_cloud_documentation=self.webpackChunkcamunda_cloud_documentation||[]).push([[17767],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return p},kt:function(){return d}});var s=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,s,r=function(e,t){if(null==e)return{};var n,s,r={},a=Object.keys(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=s.createContext({}),l=function(e){var t=s.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=l(e.components);return s.createElement(c.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return s.createElement(s.Fragment,{},t)}},u=s.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,c=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),u=l(n),d=r,k=u["".concat(c,".").concat(d)]||u[d]||m[d]||a;return n?s.createElement(k,i(i({ref:t},p),{},{components:n})):s.createElement(k,i({ref:t},p))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,i=new Array(a);i[0]=u;var o={};for(var c in t)hasOwnProperty.call(t,c)&&(o[c]=t[c]);o.originalType=e,o.mdxType="string"==typeof e?e:r,i[1]=o;for(var l=2;l<a;l++)i[l]=n[l];return s.createElement.apply(null,i)}return s.createElement.apply(null,n)}u.displayName="MDXCreateElement"},11960:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return i},contentTitle:function(){return o},metadata:function(){return c},toc:function(){return l},default:function(){return m}});var s=n(22122),r=n(19756),a=(n(67294),n(3905)),i={id:"receive-tasks",title:"Receive tasks"},o=void 0,c={unversionedId:"reference/bpmn-processes/receive-tasks/receive-tasks",id:"reference/bpmn-processes/receive-tasks/receive-tasks",isDocsHomePage:!1,title:"Receive tasks",description:"Receive tasks are tasks which references a message. They are used to wait until a proper message is received.",source:"@site/docs/reference/bpmn-processes/receive-tasks/receive-tasks.md",sourceDirName:"reference/bpmn-processes/receive-tasks",slug:"/reference/bpmn-processes/receive-tasks/receive-tasks",permalink:"/docs/reference/bpmn-processes/receive-tasks/receive-tasks",editUrl:"https://github.com/camunda-cloud/camunda-cloud-documentation/edit/master/docs/reference/bpmn-processes/receive-tasks/receive-tasks.md",version:"current",frontMatter:{id:"receive-tasks",title:"Receive tasks"},sidebar:"Reference",previous:{title:"User tasks",permalink:"/docs/reference/bpmn-processes/user-tasks/user-tasks"},next:{title:"Business rule tasks",permalink:"/docs/reference/bpmn-processes/business-rule-tasks/business-rule-tasks"}},l=[{value:"Messages",id:"messages",children:[]},{value:"Variable mappings",id:"variable-mappings",children:[]},{value:"Additional resources",id:"additional-resources",children:[{value:"XML Representation",id:"xml-representation",children:[]},{value:"References",id:"references",children:[]}]}],p={toc:l};function m(e){var t=e.components,i=(0,r.Z)(e,["components"]);return(0,a.kt)("wrapper",(0,s.Z)({},p,i,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Receive tasks are tasks which references a message. They are used to wait until a proper message is received."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Receive Tasks",src:n(18787).Z})),(0,a.kt)("p",null,"When a receive task is entered then a corresponding message subscription is created. The process instance stops at this point and waits until the message is correlated."),(0,a.kt)("p",null,"A message can published using one of the Zeebe clients. When the message is correlated, the receive task gets completed and the process instance continues."),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"An alternative to receive tasks are ",(0,a.kt)("a",{parentName:"p",href:"/docs/reference/bpmn-processes/message-events/message-events"},"message intermediate catch events")," which behaves the same but can be used together with event-based gateways.")),(0,a.kt)("h2",{id:"messages"},"Messages"),(0,a.kt)("p",null,"A message can be referenced by one or more receive tasks. It ",(0,a.kt)("strong",{parentName:"p"},"must")," define the name of the message (e.g. ",(0,a.kt)("inlineCode",{parentName:"p"},"Money collected"),") and the ",(0,a.kt)("inlineCode",{parentName:"p"},"correlationKey")," expression (e.g. ",(0,a.kt)("inlineCode",{parentName:"p"},"= orderId"),")."),(0,a.kt)("p",null,"Usually, the name of the message is defined as a static value (e.g. ",(0,a.kt)("inlineCode",{parentName:"p"},"order canceled"),"), but it can also be defined as ",(0,a.kt)("a",{parentName:"p",href:"/docs/product-manuals/concepts/expressions"},"expression")," (e.g. ",(0,a.kt)("inlineCode",{parentName:"p"},'= "order " + awaitingAction'),"). The expression is evaluated on activating the receive task and must result in a ",(0,a.kt)("inlineCode",{parentName:"p"},"string"),"."),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"correlationKey")," is an expression that usually ",(0,a.kt)("a",{parentName:"p",href:"/docs/product-manuals/concepts/expressions#access-variables"},"accesses a variable")," of the process instance that holds the correlation key of the message. The expression is evaluated on activating the receive task and must result either in a ",(0,a.kt)("inlineCode",{parentName:"p"},"string")," or in a ",(0,a.kt)("inlineCode",{parentName:"p"},"number"),"."),(0,a.kt)("p",null,"In order to correlate a message to the receive task, the message is published with the defined name (e.g. ",(0,a.kt)("inlineCode",{parentName:"p"},"Money collected"),") and the ",(0,a.kt)("strong",{parentName:"p"},"value")," of the ",(0,a.kt)("inlineCode",{parentName:"p"},"correlationKey")," expression. For example, if the process instance has a variable ",(0,a.kt)("inlineCode",{parentName:"p"},"orderId")," with value ",(0,a.kt)("inlineCode",{parentName:"p"},'"order-123"')," then the message must be published with the correlation key ",(0,a.kt)("inlineCode",{parentName:"p"},'"order-123"'),"."),(0,a.kt)("h2",{id:"variable-mappings"},"Variable mappings"),(0,a.kt)("p",null,"By default, all message variables are merged into the process instance. This behavior can be customized by defining an output mapping at the receive task."),(0,a.kt)("h2",{id:"additional-resources"},"Additional resources"),(0,a.kt)("h3",{id:"xml-representation"},"XML Representation"),(0,a.kt)("p",null,"A receive task with message definition:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},'<bpmn:message id="Message_1iz5qtq" name="Money collected">\n   <bpmn:extensionElements>\n     <zeebe:subscription correlationKey="orderId" />\n   </bpmn:extensionElements>\n</bpmn:message>\n\n<bpmn:receiveTask id="money-collected" name="Money collected"\n  messageRef="Message_1iz5qtq">\n</bpmn:receiveTask>\n')),(0,a.kt)("h3",{id:"references"},"References"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"/docs/product-manuals/concepts/messages"},"Message correlation")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"/docs/product-manuals/concepts/expressions"},"Expressions")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"/docs/product-manuals/concepts/variables#inputoutput-variable-mappings"},"Variable mappings")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"/docs/product-manuals/concepts/incidents"},"Incidents"))))}m.isMDXComponent=!0},18787:function(e,t){"use strict";t.Z="data:image/png;base64,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"}}]);