(self.webpackChunkcamunda_cloud_documentation=self.webpackChunkcamunda_cloud_documentation||[]).push([[50949],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return p},kt:function(){return m}});var o=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},a=Object.keys(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=o.createContext({}),c=function(e){var t=o.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},p=function(e){var t=c(e.components);return o.createElement(l.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},u=o.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,l=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),u=c(n),m=r,h=u["".concat(l,".").concat(m)]||u[m]||d[m]||a;return n?o.createElement(h,s(s({ref:t},p),{},{components:n})):o.createElement(h,s({ref:t},p))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,s=new Array(a);s[0]=u;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:r,s[1]=i;for(var c=2;c<a;c++)s[c]=n[c];return o.createElement.apply(null,s)}return o.createElement.apply(null,n)}u.displayName="MDXCreateElement"},98521:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return i},metadata:function(){return l},toc:function(){return c},default:function(){return d}});var o=n(22122),r=n(19756),a=(n(67294),n(3905)),s={id:"deploy-a-process",title:"Deploy a process"},i=void 0,l={unversionedId:"components/zeebe/deployment-guide/getting-started/deploy-a-process",id:"version-1.0/components/zeebe/deployment-guide/getting-started/deploy-a-process",isDocsHomePage:!1,title:"Deploy a process",description:"In this section, we'll start up the Zeebe broker and Camunda Operate\u2014a tool that gives you visibility into deployed processes and running process instances, and contains tooling for fixing problems in those process instances.",source:"@site/versioned_docs/version-1.0/components/zeebe/deployment-guide/getting-started/deploy-a-process.md",sourceDirName:"components/zeebe/deployment-guide/getting-started",slug:"/components/zeebe/deployment-guide/getting-started/deploy-a-process",permalink:"/docs/1.0/components/zeebe/deployment-guide/getting-started/deploy-a-process",editUrl:"https://github.com/camunda-cloud/camunda-cloud-documentation/edit/master/versioned_docs/version-1.0/components/zeebe/deployment-guide/getting-started/deploy-a-process.md",version:"1.0",frontMatter:{id:"deploy-a-process",title:"Deploy a process"},sidebar:"version-1.0/Components",previous:{title:"Create a process",permalink:"/docs/1.0/components/zeebe/deployment-guide/getting-started/create-a-process"},next:{title:"Create and complete process instances",permalink:"/docs/1.0/components/zeebe/deployment-guide/getting-started/create-process-instance"}},c=[{value:"Docker compose",id:"docker-compose",children:[]},{value:"Manually configure and start Zeebe and Operate",id:"manually-configure-and-start-zeebe-and-operate",children:[]},{value:"Check the status of the broker",id:"check-the-status-of-the-broker",children:[]},{value:"Deploy the worklfow",id:"deploy-the-worklfow",children:[]}],p={toc:c};function d(e){var t=e.components,s=(0,r.Z)(e,["components"]);return(0,a.kt)("wrapper",(0,o.Z)({},p,s,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"In this section, we'll start up the Zeebe broker and Camunda Operate\u2014a tool that gives you visibility into deployed processes and running process instances, and contains tooling for fixing problems in those process instances."),(0,a.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,a.kt)("div",{parentName:"div",className:"admonition-heading"},(0,a.kt)("h5",{parentName:"div"},(0,a.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,a.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,a.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,a.kt)("div",{parentName:"div",className:"admonition-content"},(0,a.kt)("p",{parentName:"div"},"We offer Operate free of charge for unrestricted ",(0,a.kt)("strong",{parentName:"p"},"non-production")," use only because we think it's a great tool for getting familiar with Zeebe and building initial proofs-of-concept. In the future, we'll offer an Operate enterprise license that allows for production use, too."))),(0,a.kt)("p",null,"Before we run the Zeebe broker, we need to configure an Elasticsearch exporter in the Zeebe configuration file. Which leads to the question: what's an exporter, and why is Elasticsearch a part of this tutorial?"),(0,a.kt)("p",null,"The answer is that Zeebe itself doesn't store historic data related to your process instances. If you want to keep this data for auditing or for analysis, you need to export to another storage system. Zeebe ",(0,a.kt)("em",{parentName:"p"},"does")," provide an easy-to-use exporter interface, and it also offers an Elasticsearch exporter out of the box. (",(0,a.kt)("em",{parentName:"p"},(0,a.kt)("a",{parentName:"em",href:"/docs/1.0/components/zeebe/open-source/exporters"},"See: Exporters")),")"),(0,a.kt)("p",null,"Elasticsearch is also what Camunda Operate uses to store data, so to run Operate, you need to enable the Elasticsearch exporter in Zeebe and run an instance of Elasticsearch. In this section and the next section of the tutorial, we'll use Operate to visualize what's going on in Zeebe with each step we take."),(0,a.kt)("h2",{id:"docker-compose"},"Docker compose"),(0,a.kt)("p",null,"If you are using Docker and ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/zeebe-io/zeebe-docker-compose"},"zeebe-docker-compose"),", follow the instructions in the README file in the ",(0,a.kt)("inlineCode",{parentName:"p"},"operate")," directory of that repository to start Zeebe and Operate. Then, you can skip the following section, and continue from ",(0,a.kt)("a",{parentName:"p",href:"#check-the-status-of-the-broker"},"check the status of the broker"),"."),(0,a.kt)("p",null,"If you are using individual components, you'll need to manually configure and start components."),(0,a.kt)("h2",{id:"manually-configure-and-start-zeebe-and-operate"},"Manually configure and start Zeebe and Operate"),(0,a.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,a.kt)("div",{parentName:"div",className:"admonition-heading"},(0,a.kt)("h5",{parentName:"div"},(0,a.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,a.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,a.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,a.kt)("div",{parentName:"div",className:"admonition-content"},(0,a.kt)("p",{parentName:"div"},"These instructions are for using separate components, and are not necessary when using Docker."))),(0,a.kt)("p",null,"Take the following steps:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Copy the following lines into a new file ",(0,a.kt)("inlineCode",{parentName:"li"},"getting-started.yaml")," file (in the ",(0,a.kt)("inlineCode",{parentName:"li"},"config")," directory of the Zeebe broker).")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"zeebe:\n  broker:\n    exporters:\n      elasticsearch:\n        className: io.camunda.zeebe.exporter.ElasticsearchExporter\n")),(0,a.kt)("p",null,"These settings enable the Zeebe Elasticsearch exporter."),(0,a.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,a.kt)("div",{parentName:"div",className:"admonition-heading"},(0,a.kt)("h5",{parentName:"div"},(0,a.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,a.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,a.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,a.kt)("div",{parentName:"div",className:"admonition-content"},(0,a.kt)("p",{parentName:"div"},"Some command examples might not work on Windows if you use cmd or Powershell. For Windows users, we recommend using a bash-like shell such as Git Bash, Cygwin, or MinGW for this guide."))),(0,a.kt)("ol",{start:2},(0,a.kt)("li",{parentName:"ol"},"Open Terminal or another command line tool and start up Elasticsearch.")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"cd elasticsearch-6.7.0\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Linux / Mac")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"bin/elasticsearch\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Windows")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"bin\\elasticsearch.bat\n")),(0,a.kt)("p",null,"You'll know startup was successful when you see something like the following:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"[2019-04-05T10:26:22,288][INFO ][o.e.n.Node ] [oy0juRR] started\n")),(0,a.kt)("ol",{start:3},(0,a.kt)("li",{parentName:"ol"},"Start the Zeebe broker in another Terminal window.")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"./bin/broker --spring.config.location=file:./config/getting-started.yaml\n")),(0,a.kt)("ol",{start:4},(0,a.kt)("li",{parentName:"ol"},"Start Operate in another Terminal window. Note that you'll need port 8080 to run Operate and access the UI, so be sure to check it's available.")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"cd camunda-operate-distro-1.0.0-RC2\nbin/operate\n")),(0,a.kt)("p",null,"To confirm Operate was started, go to ",(0,a.kt)("a",{parentName:"p",href:"http://localhost:8080"},"http://localhost:8080"),". You should see the following:"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Zeebe Configuration File",src:n(67300).Z})),(0,a.kt)("p",null,"You can leave this tab open as we'll be returning to it shortly."),(0,a.kt)("h2",{id:"check-the-status-of-the-broker"},"Check the status of the broker"),(0,a.kt)("p",null,"You can use the Zeebe CLI to check the status of your broker. Open a new Terminal window to run it."),(0,a.kt)("p",null,"If you are using Docker, change into the ",(0,a.kt)("inlineCode",{parentName:"p"},"zeebe-docker-compose")," directory."),(0,a.kt)("p",null,"If you are using separate components, change into the Zeebe broker directory."),(0,a.kt)("p",null,"Run the following:"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Linux")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"./bin/zbctl --insecure status\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Mac")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"./bin/zbctl.darwin --insecure status\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Windows")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"./bin/zbctl.exe --insecure status\n")),(0,a.kt)("p",null,"You should see a response like this one:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"Cluster size: 1\nPartitions count: 1\nReplication factor: 1\nBrokers:\n  Broker 0 - 0.0.0.0:26501\n    Partition 0 : Leader\n")),(0,a.kt)("p",null,"For all Zeebe-related operations moving forward, we'll use Zeebe's command-line interface (CLI). In a real-world deployment, you likely wouldn't rely on the CLI to send messages or create job workers. Rather, you would embed Zeebe clients in worker microservices that connect to the Zeebe engine."),(0,a.kt)("p",null,"For the sake of keeping this guide simple (and language agnostic), we're going to use the CLI."),(0,a.kt)("h2",{id:"deploy-the-worklfow"},"Deploy the worklfow"),(0,a.kt)("p",null,"Next, we'll deploy our process model via the CLI. We'll deploy the process model we created in the previous section."),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Linux")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"./bin/zbctl --insecure deploy order-process.bpmn\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Mac")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"./bin/zbctl.darwin --insecure deploy order-process.bpmn\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Windows")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"./bin/zbctl.exe --insecure deploy order-process.bpmn\n")),(0,a.kt)("p",null,"You should see a response like this one:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'{\n  "key": 2,\n  "processes": [\n    {\n      "bpmnProcessId": "order-process",\n      "version": 1,\n      "processKey": 1,\n      "resourceName": "order-process.bpmn"\n    }\n  ]\n}\n')),(0,a.kt)("p",null,"Now, we'll take a look at the Operate user interface:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Go to ",(0,a.kt)("a",{parentName:"li",href:"http://localhost:8080"},"http://localhost:8080")," and use the credentials ",(0,a.kt)("inlineCode",{parentName:"li"},"demo")," / ",(0,a.kt)("inlineCode",{parentName:"li"},"demo")," to access Operate."),(0,a.kt)("li",{parentName:"ol"},"Click on the ",(0,a.kt)("inlineCode",{parentName:"li"},"Running Instances")," option in the navigation bar at the top of the interface."),(0,a.kt)("li",{parentName:"ol"},"Select the ",(0,a.kt)("inlineCode",{parentName:"li"},"order-process")," process from the ",(0,a.kt)("strong",{parentName:"li"},"Processes")," selector on the left side of the screen.")),(0,a.kt)("p",null,"You should see the process model we just deployed \u2013 the same model we built in the previous section. You won't see any process instances because we haven't created them yet, and that's exactly what we'll do in the next section."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Process in Operate",src:n(69103).Z})))}d.isMDXComponent=!0},67300:function(e,t,n){"use strict";t.Z=n.p+"assets/images/Operate-Login-Page-f4587333d50c6ea689a11533eeb01bf1.png"},69103:function(e,t,n){"use strict";t.Z=n.p+"assets/images/tutorial-4.0-process-in-operate-47c5450a43469ad75d1aa756dd216124.png"}}]);