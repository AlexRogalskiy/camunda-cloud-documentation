(self.webpackChunkcamunda_cloud_documentation=self.webpackChunkcamunda_cloud_documentation||[]).push([[32762],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return l},kt:function(){return u}});var s=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,s,r=function(e,t){if(null==e)return{};var n,s,r={},a=Object.keys(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=s.createContext({}),p=function(e){var t=s.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},l=function(e){var t=p(e.components);return s.createElement(c.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return s.createElement(s.Fragment,{},t)}},d=s.forwardRef((function(e,t){var n=e.components,r=e.mdxType,a=e.originalType,c=e.parentName,l=o(e,["components","mdxType","originalType","parentName"]),d=p(n),u=r,k=d["".concat(c,".").concat(u)]||d[u]||m[u]||a;return n?s.createElement(k,i(i({ref:t},l),{},{components:n})):s.createElement(k,i({ref:t},l))}));function u(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=n.length,i=new Array(a);i[0]=d;var o={};for(var c in t)hasOwnProperty.call(t,c)&&(o[c]=t[c]);o.originalType=e,o.mdxType="string"==typeof e?e:r,i[1]=o;for(var p=2;p<a;p++)i[p]=n[p];return s.createElement.apply(null,i)}return s.createElement.apply(null,n)}d.displayName="MDXCreateElement"},36741:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return i},contentTitle:function(){return o},metadata:function(){return c},toc:function(){return p},default:function(){return m}});var s=n(22122),r=n(19756),a=(n(67294),n(3905)),i={id:"receive-tasks",title:"Receive tasks"},o=void 0,c={unversionedId:"reference/bpmn-processes/receive-tasks/receive-tasks",id:"version-1.1/reference/bpmn-processes/receive-tasks/receive-tasks",isDocsHomePage:!1,title:"Receive tasks",description:"Receive tasks are tasks which reference a message; these are used to wait until a proper message is received.",source:"@site/versioned_docs/version-1.1/reference/bpmn-processes/receive-tasks/receive-tasks.md",sourceDirName:"reference/bpmn-processes/receive-tasks",slug:"/reference/bpmn-processes/receive-tasks/receive-tasks",permalink:"/docs/1.1/reference/bpmn-processes/receive-tasks/receive-tasks",editUrl:"https://github.com/camunda-cloud/camunda-cloud-documentation/edit/master/versioned_docs/version-1.1/reference/bpmn-processes/receive-tasks/receive-tasks.md",version:"1.1",frontMatter:{id:"receive-tasks",title:"Receive tasks"},sidebar:"version-1.1/Reference",previous:{title:"User tasks",permalink:"/docs/1.1/reference/bpmn-processes/user-tasks/user-tasks"},next:{title:"Business rule tasks",permalink:"/docs/1.1/reference/bpmn-processes/business-rule-tasks/business-rule-tasks"}},p=[{value:"Messages",id:"messages",children:[]},{value:"Variable mappings",id:"variable-mappings",children:[]},{value:"Additional resources",id:"additional-resources",children:[{value:"XML representation",id:"xml-representation",children:[]},{value:"References",id:"references",children:[]}]}],l={toc:p};function m(e){var t=e.components,i=(0,r.Z)(e,["components"]);return(0,a.kt)("wrapper",(0,s.Z)({},l,i,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Receive tasks are tasks which reference a message; these are used to wait until a proper message is received."),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Receive Tasks",src:n(16531).Z})),(0,a.kt)("p",null,"When a receive task is entered, a corresponding message subscription is created. The process instance stops at this point and waits until the message is correlated."),(0,a.kt)("p",null,"A message can be published using one of the Zeebe clients. When the message is correlated, the receive task is completed and the process instance continues."),(0,a.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,a.kt)("div",{parentName:"div",className:"admonition-heading"},(0,a.kt)("h5",{parentName:"div"},(0,a.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,a.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,a.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,a.kt)("div",{parentName:"div",className:"admonition-content"},(0,a.kt)("p",{parentName:"div"},"An alternative way to receive tasks are ",(0,a.kt)("a",{parentName:"p",href:"/docs/1.1/reference/bpmn-processes/message-events/message-events"},"message intermediate catch events"),", which behave the same but can be used together with event-based gateways."))),(0,a.kt)("h2",{id:"messages"},"Messages"),(0,a.kt)("p",null,"A message can be referenced by one or more receive tasks. It must define the name of the message (e.g. ",(0,a.kt)("inlineCode",{parentName:"p"},"Money collected"),") and the ",(0,a.kt)("inlineCode",{parentName:"p"},"correlationKey")," expression (e.g. ",(0,a.kt)("inlineCode",{parentName:"p"},"= orderId"),")."),(0,a.kt)("p",null,"Usually, the name of the message is defined as a static value (e.g. ",(0,a.kt)("inlineCode",{parentName:"p"},"order canceled"),"), but it can also be defined as ",(0,a.kt)("a",{parentName:"p",href:"/docs/1.1/components/concepts/expressions"},"expression")," (e.g. ",(0,a.kt)("inlineCode",{parentName:"p"},'= "order " + awaitingAction'),"). The expression is evaluated on activating the receive task and must result in a ",(0,a.kt)("inlineCode",{parentName:"p"},"string"),"."),(0,a.kt)("p",null,"The ",(0,a.kt)("inlineCode",{parentName:"p"},"correlationKey")," is an expression that usually ",(0,a.kt)("a",{parentName:"p",href:"/docs/1.1/components/concepts/expressions#access-variables"},"accesses a variable")," of the process instance that holds the correlation key of the message. The expression is evaluated on activating the receive task and must result either in a ",(0,a.kt)("inlineCode",{parentName:"p"},"string")," or ",(0,a.kt)("inlineCode",{parentName:"p"},"number"),"."),(0,a.kt)("p",null,"To correlate a message to the receive task, the message is published with the defined name (e.g. ",(0,a.kt)("inlineCode",{parentName:"p"},"Money collected"),") and the value of the ",(0,a.kt)("inlineCode",{parentName:"p"},"correlationKey")," expression. For example, if the process instance has a variable ",(0,a.kt)("inlineCode",{parentName:"p"},"orderId")," with value ",(0,a.kt)("inlineCode",{parentName:"p"},'"order-123"'),", the message is published with the correlation key ",(0,a.kt)("inlineCode",{parentName:"p"},'"order-123"'),"."),(0,a.kt)("h2",{id:"variable-mappings"},"Variable mappings"),(0,a.kt)("p",null,"By default, all message variables are merged into the process instance. This behavior can be customized by defining an output mapping at the receive task."),(0,a.kt)("h2",{id:"additional-resources"},"Additional resources"),(0,a.kt)("h3",{id:"xml-representation"},"XML representation"),(0,a.kt)("p",null,"A receive task with message definition:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-xml"},'<bpmn:message id="Message_1iz5qtq" name="Money collected">\n   <bpmn:extensionElements>\n     <zeebe:subscription correlationKey="orderId" />\n   </bpmn:extensionElements>\n</bpmn:message>\n\n<bpmn:receiveTask id="money-collected" name="Money collected"\n  messageRef="Message_1iz5qtq">\n</bpmn:receiveTask>\n')),(0,a.kt)("h3",{id:"references"},"References"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"/docs/1.1/components/concepts/messages"},"Message correlation")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"/docs/1.1/components/concepts/expressions"},"Expressions")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"/docs/1.1/components/concepts/variables#inputoutput-variable-mappings"},"Variable mappings")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"/docs/1.1/components/concepts/incidents"},"Incidents"))))}m.isMDXComponent=!0},16531:function(e,t){"use strict";t.Z="data:image/png;base64,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"}}]);